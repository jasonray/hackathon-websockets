<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;8.&nbsp;&#20351;&#29992;HornetQ&#20869;&#26680;</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="HornetQ 2.1&#29992;&#25143;&#25163;&#20876;"><link rel="up" href="index.html" title="HornetQ 2.1&#29992;&#25143;&#25163;&#20876;"><link rel="previous" href="using-jms.html" title="Chapter&nbsp;7.&nbsp;&#20351;&#29992;JMS"><link rel="next" href="jms-core-mapping.html" title="Chapter&nbsp;9.&nbsp;JMS&#19982;&#20869;&#26680;API&#20043;&#38388;&#30340;&#26144;&#23556;&#20851;&#31995;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;8.&nbsp;&#20351;&#29992;HornetQ&#20869;&#26680;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="using-jms.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="jms-core-mapping.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="using-core"></a>Chapter&nbsp;8.&nbsp;&#20351;&#29992;HornetQ&#20869;&#26680;</h2></div></div><div></div></div><p>HornetQ&#20869;&#26680;&#26159;&#19968;&#20010;&#19982;JMS&#26080;&#20851;&#30340;&#28040;&#24687;&#31995;&#32479;&#65292;&#23427;&#26377;&#19968;&#22871;&#33258;&#24049;&#30340;API&#12290;&#25105;&#20204;&#31216;&#23427;&#20026;<span class="emphasis"><em>&#20869;&#26680;API</em></span>.</p><p>&#20320;&#21487;&#20197;&#30452;&#25509;&#20351;&#29992;&#20869;&#26680;API&#12290;&#20351;&#29992;&#20869;&#26680;API&#21487;&#20197;&#23436;&#25104;JMS&#21516;&#26679;&#30340;&#21151;&#33021;&#65292;&#21482;&#26159;&#27604;&#36215;JMS API&#20351;&#29992;&#26356;&#21152;&#31616;&#21333;&#26041;&#20415;&#12290;&#21478;&#22806;&#65292;&#20869;&#26680;API
        &#36824;&#25552;&#20379;&#20102;JMS&#19981;&#20855;&#26377;&#30340;&#39069;&#22806;&#30340;&#21151;&#33021;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1226"></a>8.1.&nbsp;&#20869;&#26680;&#28040;&#24687;&#31995;&#32479;&#30340;&#30456;&#20851;&#27010;&#24565;</h2></div></div><div></div></div><p>&#20869;&#26680;&#28040;&#24687;&#31995;&#32479;&#20013;&#26377;&#35768;&#22810;&#27010;&#24565;&#26159;&#19982;JMS&#30456;&#20284;&#30340;&#65292;&#20294;&#26377;&#20123;&#26041;&#38754;&#26159;&#19981;&#21516;&#30340;&#12290;&#24635;&#30340;&#26469;&#35828;&#20869;&#26680;&#28040;&#24687;&#31995;&#32479;&#30340;&#25509;&#21475;&#30456;&#23545;&#31616;&#21333;&#12290;&#36825;&#26159;&#22240;&#20026;
            &#22312;&#20869;&#26680;&#20013;&#27809;&#26377;&#38431;&#21015;&#65288;queue&#65289;&#12289;&#35805;&#39064;&#65288;topic&#65289;&#21644;&#35746;&#38405;&#65288;subscription&#65289;&#30340;&#27010;&#24565;&#12290;&#19979;&#38754;&#25105;&#20204;&#23601;&#20869;&#26680;&#28040;&#24687;&#20013;&#30340;&#27010;&#24565;&#20316;&#36880;&#19968;&#20171;&#32461;&#12290;
            &#20294;&#26159;&#27599;&#20010;API&#30340;&#35814;&#32454;&#35828;&#26126;&#36824;&#26159;&#35201;&#21442;&#35265;&#30456;&#24212;&#30340;javadoc&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1231"></a>8.1.1.&nbsp;&#28040;&#24687;</h3></div></div><div></div></div><div class="itemizedlist"><ul type="disc"><li><p>&#19968;&#20010;&#28040;&#24687;&#23601;&#26159;&#23458;&#25143;&#31471;&#19982;&#26381;&#21153;&#22120;&#20256;&#36882;&#20449;&#24687;&#30340;&#21333;&#20301;&#25968;&#25454;&#12290;</p></li><li><p>&#19968;&#20010;&#28040;&#24687;&#26377;&#19968;&#20010;&#28040;&#24687;&#20307;&#65288;body&#65289;&#65292;&#21363;&#19968;&#20010;&#32531;&#23384;&#29992;&#20197;&#20889;&#20837;&#25968;&#25454;&#25110;&#20174;&#20013;&#35835;&#21462;&#25968;&#25454;&#12290;</p></li><li><p>&#19968;&#20010;&#28040;&#24687;&#26377;&#19968;&#20010;&#23646;&#24615;&#38598;&#65292;&#36825;&#20010;&#23646;&#24615;&#38598;&#23454;&#38469;&#19978;&#21253;&#21547;&#30340;&#26159;&#20027;&#38190;&#65293;&#20540;&#30340;&#38598;&#21512;&#12290;&#27599;&#20010;&#23646;&#24615;&#30340;&#20027;&#38190;&#26159;&#19968;&#20010;&#23383;&#31526;&#20018;&#65292;&#20540;&#21487;
                         &#20197;&#26159;&#19968;&#20010;&#25972;&#25968;&#65288;integer&#65289;&#12289;&#38271;&#25972;&#25968;&#65288;long&#65289;&#12289;&#30701;&#25972;&#25968;&#65288;short&#65289;&#12289;&#23383;&#33410;&#65288;byte&#65289;&#12289;&#23383;&#33410;&#25968;&#32452;&#65288;byte[]&#65289;&#12289;
                         &#23383;&#31526;&#20018;&#65288;String&#65289;&#65292;&#21452;&#31934;&#24230;&#20540;&#65288;double&#65289;&#12289;&#28014;&#28857;&#25968;&#65288;float&#65289;&#25110;&#26159;&#24067;&#23572;&#20540;&#65288;boolean&#65289;&#12290;</p></li><li><p>&#27599;&#20010;&#28040;&#24687;&#37117;&#26377;&#19968;&#20010;<span class="emphasis"><em>&#22320;&#22336;&#65288;address&#65289;</em></span>&#20570;&#20026;&#23427;&#30340;&#30446;&#30340;&#22320;&#12290;&#24403;&#19968;&#20010;&#28040;&#24687;&#34987;&#21457;&#21040;
                        &#26381;&#21153;&#22120;&#19978;&#26102;&#65292;&#23427;&#20250;&#34987;&#36335;&#30001;&#21040;&#19982;&#35813;&#22320;&#22336;&#32465;&#23450;&#30340;&#25152;&#26377;&#38431;&#21015;&#20013;&#65288;queue&#65289;&#12290;&#22914;&#26524;queue&#37197;&#32622;&#20102;&#36807;&#28388;&#22120;&#65288;filter&#65289;&#65292;
                        &#37027;&#20040;&#21482;&#26377;&#19982;&#36807;&#28388;&#22120;&#30456;&#21305;&#37197;&#30340;&#28040;&#24687;&#25165;&#20250;&#34987;&#36335;&#30001;&#21040;&#35813;queue&#12290;&#19968;&#20010;&#22320;&#22336;&#21487;&#20197;&#32465;&#23450;&#22810;&#20010;queue&#65292;&#20063;&#21487;&#20197;&#19968;&#20010;&#20063;&#19981;
                        &#32465;&#23450;&#12290;&#27880;&#24847;&#36825;&#37324;&#25152;&#35828;&#30340;queue&#26159;&#20869;&#26680;&#30340;&#27010;&#24565;&#65292;&#19981;&#26159;JMS&#30340;queue&#12290;&#38500;&#20102;queue&#20043;&#22806;&#65292;&#36824;&#26377;&#20854;&#23427;&#19968;&#20123;&#23454;&#20307;&#21487;&#20197;
                        &#32465;&#23450;&#21040;&#26576;&#19968;&#22320;&#22336;&#19978;&#12290;&#27604;&#22914;<span class="italic">divert&#65288;&#36716;&#21457;&#22120;&#65289;</span>&#12290;</p></li><li><p>&#28040;&#24687;&#21487;&#20197;&#26159;&#25345;&#20037;&#30340;&#65288;durable&#65289;&#25110;&#38750;&#25345;&#20037;&#30340;&#65288;non-durable&#65289;&#12290;&#25345;&#20037;&#30340;&#28040;&#24687;&#19981;&#20250;&#22240;&#20026;&#26381;&#21153;&#22120;&#25925;&#38556;&#25110;&#37325;&#21551;&#32780;&#20002;&#22833;&#12290;
                        &#38750;&#25345;&#20037;&#28040;&#24687;&#21017;&#20250;&#22240;&#20026;&#26381;&#21153;&#22120;&#30340;&#25925;&#38556;&#25110;&#37325;&#21551;&#32780;&#20002;&#22833;&#12290;</p></li><li><p>&#28040;&#24687;&#20855;&#26377;&#20248;&#20808;&#32423;&#12290;&#20248;&#20808;&#32423;&#30340;&#20540;&#20026;&#20174;0&#21040;9&#30340;&#25972;&#25968;&#12290;0&#20195;&#34920;&#26368;&#20302;&#20248;&#20808;&#32423;&#65292;9&#20195;&#34920;&#26368;&#39640;&#20248;&#20808;&#32423;&#12290;HornetQ&#24635;
                        &#20250;&#23581;&#35797;&#20808;&#20256;&#36865;&#20248;&#20808;&#32423;&#39640;&#30340;&#28040;&#24687;&#12290;</p></li><li><p>&#28040;&#24687;&#36824;&#26377;&#19968;&#20010;&#21487;&#36873;&#30340;&#22833;&#25928;&#26102;&#38388;&#12290;&#22914;&#26524;&#19968;&#20010;&#28040;&#24687;&#36807;&#20102;&#22833;&#25928;&#26102;&#38388;&#65292;HornetQ&#23558;&#19981;&#20877;&#20256;&#36865;&#23427;&#12290;</p></li><li><p>&#28040;&#24687;&#36824;&#26377;&#19968;&#20010;&#21487;&#36873;&#30340;&#26102;&#38388;&#25139;&#65288;timestamp&#65289;&#12290;&#36825;&#20010;&#26102;&#38388;&#25139;&#34920;&#31034;&#30340;&#26159;&#28040;&#24687;&#34987;&#21457;&#36865;&#30340;&#26102;&#38388;&#12290;</p></li><li><p>HornetQ&#36824;&#25903;&#25345;&#22823;&#28040;&#24687;&#30340;&#21457;&#36865;&#12290;&#23427;&#21487;&#20197;&#22788;&#29702;&#22823;&#21040;&#20869;&#23384;&#35013;&#19981;&#19979;&#30340;&#36229;&#22823;&#28040;&#24687;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1268"></a>8.1.2.&nbsp;&#22320;&#22336;&#65288;Address&#65289;</h3></div></div><div></div></div><p>HornetQ&#26381;&#21153;&#22120;&#20445;&#23384;&#26377;&#22320;&#22336;&#21644;queue&#30340;&#26144;&#23556;&#38598;&#12290;&#19968;&#20010;&#22320;&#22336;&#23545;&#24212;&#38646;&#20010;&#25110;&#22810;&#20010;queue&#12290;&#27599;&#20010;queue&#36824;&#21487;&#20197;&#25317;&#26377;&#28040;&#24687;
                &#36807;&#28388;&#22120;&#65288;filter&#65289;&#12290;&#24403;&#19968;&#20010;&#28040;&#24687;&#22312;&#26381;&#21153;&#22120;&#20869;&#36827;&#34892;&#36335;&#30001;&#26102;&#65292;&#23427;&#23558;&#20250;&#34987;&#36865;&#24448;&#19982;&#20854;&#22320;&#22336;&#30456;&#32465;&#23450;&#30340;&#25152;&#26377;&#30340;queue&#20013;&#12290;&#20294;&#26159;
                &#22914;&#26524;&#20854;&#20013;&#26576;&#20010;queue&#26377;&#36807;&#28388;&#22120;&#65292;&#37027;&#20040;&#21482;&#26377;&#19982;&#20854;&#36807;&#28388;&#22120;&#30456;&#21305;&#37197;&#30340;&#28040;&#24687;&#25165;&#20250;&#34987;&#21457;&#21040;&#36825;&#20010;queue&#20013;&#12290;</p><p>&#20854;&#23427;&#30340;&#23454;&#20307;&#22914;<span class="italic">diverts</span>&#20063;&#21487;&#20197;&#19982;&#19968;&#22320;&#22336;&#36827;&#34892;&#32465;&#23450;&#65292;&#28040;&#24687;&#20063;&#20250;&#34987;&#21516;&#26679;
                  &#36335;&#30001;&#21040;&#30456;&#24212;&#30340;&#23454;&#20307;&#20013;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>&#22312;&#20869;&#26680;&#20013;&#65292;&#27809;&#26377;Topic&#30340;&#27010;&#24565;&#12290;&#21482;&#26377;<span class="emphasis"><em>&#22320;&#22336;&#65288;address&#65289;</em></span> &#21644;
                        <span class="emphasis"><em>queue</em></span>&#12290;</p><p>&#20551;&#22914;&#24819;&#22312;&#20869;&#26680;&#23454;&#29616;JMS topic&#30340;&#21151;&#33021;&#65292;&#21482;&#35201;&#23558;&#19968;&#22320;&#22336;&#32465;&#23450;&#21040;&#22810;&#20010;queue&#21363;&#21487;&#12290;&#20854;&#20013;&#30340;&#27599;&#19968;&#20010;queue&#23601;&#30456;&#24403;
                    &#20110;&#19968;&#20010;&#35746;&#38405;&#65288;subscription&#65289;&#12290;&#31867;&#20284;&#22320;&#65292;&#19968;&#20010;JMS queue&#21017;&#21487;&#20197;&#36890;&#36807;&#19968;&#20010;&#22320;&#22336;&#19982;&#19968;&#20010;queue&#30340;&#32465;&#23450;&#26469;&#23454;&#29616;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1289"></a>8.1.3.&nbsp;Queue</h3></div></div><div></div></div><p>Queue&#21487;&#20197;&#30340;&#25345;&#20037;&#30340;&#12290;&#24847;&#24605;&#26159;&#22914;&#26524;queue&#20013;&#30340;&#28040;&#24687;&#26159;&#25345;&#20037;&#30340;&#65292;&#37027;&#20040;&#24403;&#21457;&#29983;&#26381;&#21153;&#22120;&#25925;&#38556;&#25110;&#37325;&#21551;&#26102;&#65292;&#36825;&#20123;&#28040;&#24687;&#19981;&#20250;&#20002;&#22833;&#12290;
                Queue&#20063;&#21487;&#26159;&#38750;&#25345;&#20037;&#30340;&#65292;&#36825;&#24847;&#35859;&#30528;&#22914;&#26524;&#26381;&#21153;&#22120;&#21457;&#30340;&#25925;&#38556;&#25110;&#37325;&#21551;&#65292;queue&#20013;&#30340;&#28040;&#24687;&#23558;&#20250;&#20002;&#22833;&#65292;&#19981;&#31649;&#28040;&#24687;&#26159;&#19981;&#26159;&#25345;&#20037;&#30340;&#12290;</p><p>Queue&#20063;&#21487;&#20197;&#26159;&#20020;&#26102;&#30340;&#65292;&#24847;&#24605;&#26159;&#20020;&#26102;&#30340;queue&#22312;&#23458;&#25143;&#31471;&#26029;&#24320;&#36830;&#25509;&#26102;&#65292;&#23427;&#23558;&#20250;&#34987;&#21024;&#38500;&#12290;</p><p>Queue&#21487;&#20197;&#26377;&#19968;&#20010;&#36807;&#28388;&#22120;&#34920;&#36798;&#24335;&#12290;&#26381;&#21153;&#22120;&#22312;&#21521;&#36825;&#26679;&#30340;queue&#36335;&#30001;&#28040;&#24687;&#26102;&#65292;&#20808;&#21028;&#23450;&#28040;&#24687;&#26159;&#21542;&#19982;&#36807;&#28388;&#22120;&#34920;&#36798;&#24335;&#30456;&#21305;&#37197;&#65292;
                &#21482;&#26377;&#21305;&#37197;&#30340;&#28040;&#24687;&#25165;&#20250;&#34987;&#21457;&#21040;&#35813;queue&#12290;</p><p>&#19968;&#20010;&#22320;&#22336;&#21487;&#20197;&#32465;&#23450;&#22810;&#20010;queue&#12289;&#12290;&#20294;&#26159;&#19968;&#20010;queue&#21482;&#33021;&#34987;&#32465;&#23450;&#21040;&#19968;&#20010;&#22320;&#22336;&#19978;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1300"></a>8.1.4.&nbsp;ClientSessionFactory</h3></div></div><div></div></div><p>&#23458;&#25143;&#31471;&#20351;&#29992; <tt class="literal">ClientSessionFactory</tt> &#31867;&#30340;&#23454;&#20363;&#21019;&#24314; <tt class="literal">ClientSession</tt> &#23454;&#20363;&#12290; <tt class="literal">ClientSessionFactory</tt>
                &#30693;&#36947;&#22914;&#20309;&#36830;&#25509;&#21040;&#26381;&#21153;&#22120;&#24182;&#21019;&#24314;&#20250;&#35805;&#65288;session&#65289;&#12290;&#23427;&#26159;&#21487;&#20197;&#26681;&#25454;&#19981;&#21516;&#38656;&#35201;&#28789;&#27963;&#37197;&#32622;&#30340;&#12290;</p><p><tt class="literal">ClientSessionFactory</tt>&#23454;&#20363;&#26159;&#36890;&#36807; <tt class="literal">HornetQClient</tt> &#24037;&#21378;&#31867;&#21019;&#24314;&#30340;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1321"></a>8.1.5.&nbsp;ClientSession</h3></div></div><div></div></div><p>&#23458;&#25143;&#31471;&#20351;&#29992;ClientSession&#26469;&#21457;&#36865;&#21644;&#25509;&#25910;&#28040;&#24687;&#65292;&#24182;&#25511;&#21046;&#20107;&#21153;&#30340;&#20351;&#29992;&#12290;ClientSession&#21487;&#20197;&#25903;&#25345;&#20107;&#21153;&#24615;
                &#21644;&#38750;&#20107;&#21153;&#24615;&#30340;&#24212;&#29992;&#12290;&#23427;&#36824;&#25552;&#20379;&#20102;&#19968;&#20010; <tt class="literal">XAResource</tt> &#25509;&#21475;&#65292;&#22240;&#20123;&#23427;&#21487;&#20197;&#21152;&#20837;&#21040;&#19968;&#20010;<a href="http://java.sun.com/javaee/technologies/jta/index.jsp" target="_top">JTA</a>
                &#20132;&#26131;&#20013;&#12290;</p><p>ClientSession &#31649;&#29702;&#30528;ClientConsumers&#21644;ClientProducers&#12290;</p><p>ClientSession &#23454;&#20363;&#21487;&#20197;&#27880;&#20876;&#19968;&#20010;&#21487;&#36873;&#30340; <tt class="literal">SendAcknowledgementHandler</tt>&#12290;&#27599;&#24403;&#28040;&#24687;&#34987;&#36865;&#36798;HornetQ&#26381;&#21153;&#22120;&#20013;&#26102;&#65292;
                   HornetQ&#23601;&#29992;&#23427;&#26469;&#24322;&#27493;&#22320;&#21457;&#20986;&#36890;&#30693;&#12290;&#26377;&#20102;&#36825;&#20010;&#29420;&#29305;&#30340;&#21151;&#33021;&#65292;&#23458;&#25143;&#21487;&#20197;&#19981;&#24517;&#38459;&#22622;&#22312;&#27599;&#27425;&#28040;&#24687;&#30340;&#21457;&#36865;&#25805;&#20316;&#19978;&#26469;&#20445;&#35777;
                   &#28040;&#24687;&#23433;&#20840;&#21040;&#36798;&#26381;&#21153;&#22120;&#12290;&#22914;&#26524;&#37319;&#29992;&#38459;&#22622;&#30340;&#26041;&#27861;&#65292;&#37027;&#20040;&#27599;&#19968;&#20010;&#28040;&#24687;&#30340;&#21457;&#36865;&#37117;&#35201;&#21253;&#25324;&#24448;&#36820;&#20004;&#27425;&#30340;&#32593;&#32476;&#20256;&#36882;&#25805;&#20316;&#65292;&#24320;&#38144;
                   &#26159;&#24456;&#22823;&#30340;&#12290;&#26377;&#20102;&#36825;&#20010;&#24322;&#27493;&#26041;&#24335;&#23601;&#21487;&#20197;&#36991;&#20813;&#36825;&#31181;&#24320;&#38144;&#65292;&#24314;&#31435;&#30495;&#27491;&#30340;&#24322;&#27493;&#30340;&#31471;&#21040;&#31471;&#38388;&#30340;&#31995;&#32479;&#12290;&#36825;&#26159;&#26631;&#20934;&#30340;JMS&#25509;&#21475;
                   &#26080;&#27861;&#20570;&#21040;&#30340;&#12290;&#21442;&#35265; <a href="send-guarantees.html" title="Chapter&nbsp;20.&nbsp;&#21457;&#36865;&#19982;&#25552;&#20132;&#30340;&#20445;&#35777;">Chapter&nbsp;20, <i>&#21457;&#36865;&#19982;&#25552;&#20132;&#30340;&#20445;&#35777;</i></a>&#20102;&#35299;&#30456;&#20851;&#30340;&#26356;&#35814;&#32454;&#30340;&#20449;&#24687;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1341"></a>8.1.6.&nbsp;ClientConsumer</h3></div></div><div></div></div><p>&#23458;&#25143;&#31471;&#20351;&#29992; <tt class="literal">ClientConsumer</tt> &#23454;&#20363;&#26469;&#25509;&#25910;&#26469;&#33258;queue&#30340;&#28040;&#24687;&#12290;HornetQ&#30340;&#20869;&#26680;&#21516;&#26102;&#25903;&#25345;
                &#21516;&#27493;&#19982;&#24322;&#27493;&#30340;&#28040;&#24687;&#25509;&#25910;&#12290;<tt class="literal">ClientConsumer</tt> &#23454;&#20363;&#21487;&#20197;&#37197;&#32622;&#26377;&#21487;&#36873;&#30340;&#36807;&#28388;&#22120;&#12290;&#23427;&#21482;&#25509;&#25910;&#19982;&#36807;&#28388;
                &#22120;&#30456;&#21305;&#37197;&#30340;&#28040;&#24687;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1352"></a>8.1.7.&nbsp;ClientProducer</h3></div></div><div></div></div><p>&#23458;&#25143;&#31471;&#20351;&#29992;<tt class="literal">ClientSession</tt>&#21019;&#24314; <tt class="literal">ClientProducer</tt> &#23454;&#20363;
                &#26469;&#21521;&#26381;&#21153;&#22120;&#21457;&#36865;&#28040;&#24687;&#12290;ClientProducer&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;&#22320;&#22336;&#65292;&#29992;&#26469;&#21521;&#20854;&#21457;&#36865;&#28040;&#24687;&#12290;&#25110;&#32773;&#19981;&#25351;&#23450;&#22320;&#22336;&#65292;&#28040;&#24687;&#22312;&#21457;&#36865;&#26102;
                &#20877;&#25351;&#23450;&#22320;&#22336;&#12290;</p></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>&#35831;&#27880;&#24847; ClientSession&#12289; ClientProducer&#21644;ClientConsumer &#23454;&#20363;&#26159;&#21487;&#20197;&#34987;
                <span class="emphasis"><em>&#37325;&#29992;</em></span>&#30340;&#12290;</p><p>&#22312;&#27599;&#27425;&#21457;&#36865;&#25110;&#25509;&#25910;&#19968;&#20010;&#28040;&#24687;&#26102;&#37117;&#21019;&#24314;&#26032;&#30340; ClientSession, ClientProducer &#21644; ClientConsumer&#26159;&#19981;&#31526;&#21512;
                &#35774;&#35745;&#27169;&#24335;&#30340;&#35201;&#27714;&#30340;&#12290;&#36825;&#26679;&#20570;&#20250;&#23548;&#33268;&#24615;&#33021;&#20302;&#19979;&#12290;&#22312;<a href="perf-tuning.html" title="Chapter&nbsp;46.&nbsp;&#24615;&#33021;&#35843;&#20248;">Chapter&nbsp;46, <i>&#24615;&#33021;&#35843;&#20248;</i></a>&#20013;&#25105;&#20204;&#20250;&#20570;&#36827;&#19968;&#27493;&#30340;&#35752;&#35770;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1373"></a>8.2.&nbsp;&#19968;&#20010;&#20869;&#26680;&#30340;&#24212;&#29992;&#23454;&#20363;</h2></div></div><div></div></div><p>&#19979;&#38754;&#26159;&#19968;&#20010;&#38750;&#24120;&#31616;&#21333;&#30340;&#20351;&#29992;&#20869;&#26680;API&#26469;&#21457;&#36865;&#30340;&#25509;&#25910;&#28040;&#24687;&#30340;&#23454;&#20363;&#65306;</p><pre class="programlisting">
ClientSessionFactory factory =  HornetQClient.createClientSessionFactory(
                                        new TransportConfiguration(
                                           InVMConnectorFactory.class.getName()));

ClientSession session = factory.createSession();

session.createQueue("example", "example", true);

ClientProducer producer = session.createProducer("example");

ClientMessage message = session.createMessage(true);

message.getBodyBuffer().writeString("Hello");

producer.send(message);

session.start();

ClientConsumer consumer = session.createConsumer("example");

ClientMessage msgReceived = consumer.receive();

System.out.println("message = " + msgReceived.getBodyBuffer().readString());

session.close();</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="using-jms.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="jms-core-mapping.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;7.&nbsp;&#20351;&#29992;JMS&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;9.&nbsp;JMS&#19982;&#20869;&#26680;API&#20043;&#38388;&#30340;&#26144;&#23556;&#20851;&#31995;</td></tr></table></div></body></html>