<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;23.&nbsp;&#22823;&#28040;&#24687;</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="HornetQ 2.1&#29992;&#25143;&#25163;&#20876;"><link rel="up" href="index.html" title="HornetQ 2.1&#29992;&#25143;&#25163;&#20876;"><link rel="previous" href="message-expiry.html" title="Chapter&nbsp;22.&nbsp;&#36807;&#26399;&#30340;&#28040;&#24687;"><link rel="next" href="paging.html" title="Chapter&nbsp;24.&nbsp;&#20998;&#39029;&#36716;&#23384;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;23.&nbsp;&#22823;&#28040;&#24687;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="message-expiry.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="paging.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="large-messages"></a>Chapter&nbsp;23.&nbsp;&#22823;&#28040;&#24687;</h2></div></div><div></div></div><p>HornetQ&#25903;&#25345;&#36229;&#22823;&#28040;&#24687;&#30340;&#21457;&#36865;&#21644;&#25509;&#25910;&#12290;&#28040;&#24687;&#30340;&#22823;&#23567;&#19981;&#21463;&#23458;&#25143;&#31471;&#25110;&#26381;&#21153;&#22120;&#31471;&#30340;&#20869;&#23384;&#38480;&#21046;&#12290;&#23427;&#21482;&#21463;&#38480;&#20110;&#20320;&#30340;&#30913;&#30424;&#31354;&#38388;&#30340;&#22823;&#23567;&#12290;
        &#22312;&#25105;&#20204;&#20316;&#36807;&#30340;&#27979;&#35797;&#20013;&#65292;&#28040;&#24687;&#26368;&#22823;&#21487;&#36798;8GiB&#65292;&#32780;&#23458;&#25143;&#31471;&#21644;&#26381;&#21153;&#22120;&#31471;&#30340;&#20869;&#23384;&#21482;&#26377;50MiB&#65281;</p><p>&#35201;&#21457;&#36865;&#19968;&#20010;&#22823;&#28040;&#24687;&#65292;&#29992;&#25143;&#38656;&#35201;&#20026;&#22823;&#28040;&#24687;&#25552;&#20379;&#19968;&#20010;<tt class="literal">InputStream</tt>&#65292;&#24403;&#22823;&#28040;&#24687;&#34987;&#21457;&#36865;&#26102;&#65292;
        HornetQ&#20174;&#35813;<tt class="literal">InputStream</tt>&#35835;&#21462;&#28040;&#24687;&#12290;&#20363;&#22914;&#65292;&#35201;&#23558;&#19968;&#20010;&#30913;&#30424;&#20013;&#30340;&#22823;&#25991;&#20214;&#20197;&#28040;&#24687;&#24418;&#24335;&#21457;&#36865;&#65292;&#21487;&#20197;
        &#20351;&#29992;<tt class="literal">FileInputStream</tt>&#12290;</p><p>&#25968;&#25454;&#20174;<tt class="literal">InputStream</tt>&#35835;&#20986;&#24182;&#20998;&#35299;&#20026;&#19968;&#20010;&#20010;&#25968;&#25454;&#29255;&#27573;&#21521;&#26381;&#21153;&#22120;&#20197;&#27969;&#30340;&#24418;&#24335;&#21457;&#36865;&#12290;&#26381;&#21153;&#22120;&#22312;&#25910;&#21040;
        &#36825;&#20123;&#29255;&#27573;&#21518;&#23558;&#23427;&#20204;&#20445;&#23384;&#21040;&#30913;&#30424;&#19978;&#12290;&#24403;&#26381;&#21153;&#22120;&#20934;&#22791;&#21521;&#25509;&#25910;&#32773;&#20256;&#36882;&#28040;&#24687;&#26102;&#65292;&#23427;&#23558;&#36825;&#20123;&#29255;&#27573;&#35835;&#22238;&#65292;&#21516;&#26679;&#20197;&#29255;&#27573;&#27969;&#30340;&#24418;&#24335;&#21521;&#25509;&#25910;&#32773;
        &#19968;&#31471;&#21457;&#36865;&#12290;&#24403;&#25509;&#25910;&#32773;&#24320;&#22987;&#25509;&#25910;&#26102;&#65292;&#26368;&#21021;&#25910;&#21040;&#30340;&#21482;&#26159;&#19968;&#20010;&#31354;&#30340;&#28040;&#24687;&#20307;&#12290;&#23427;&#38656;&#35201;&#20026;&#20854;&#35774;&#32622;&#19968;&#20010;<tt class="literal">OutputStream</tt>
        &#20197;&#20415;&#21521;&#22823;&#28040;&#24687;&#20445;&#23384;&#21040;&#30913;&#30424;&#19978;&#25110;&#20854;&#23427;&#22320;&#26041;&#12290;&#20174;&#21457;&#36865;&#21040;&#25509;&#25910;&#25972;&#20010;&#36807;&#31243;&#20013;&#19981;&#38656;&#35201;&#25972;&#20010;&#28040;&#24687;&#37117;&#22312;&#20869;&#23384;&#20013;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="large.message.configuring"></a>23.1.&nbsp;&#26381;&#21153;&#22120;&#31471;&#30340;&#37197;&#32622;</h2></div></div><div></div></div><p>&#22823;&#28040;&#24687;&#22312;&#26381;&#21153;&#22120;&#31471;&#26159;&#30452;&#25509;&#20445;&#23384;&#22312;&#30913;&#30424;&#30446;&#24405;&#20013;&#12290;&#36825;&#19968;&#30446;&#24405;&#21487;&#20197;&#22312;HornetQ&#30340;&#37197;&#32622;&#25991;&#20214;&#20013;&#23450;&#20041;&#12290;</p><p>&#36825;&#20010;&#21442;&#25968;&#30340;&#21517;&#23383;&#26159;<tt class="literal">large-messages-directory</tt>&#65306;</p><pre class="programlisting">&lt;configuration xmlns="urn:hornetq"
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xsi:schemaLocation="urn:hornetq /schema/hornetq-configuration.xsd"&gt;

...

&lt;large-message-directory&gt;/data/large-messages&lt;/large-message-directory&gt;

...

&lt;/configuration</pre><p>&#40664;&#35748;&#30340;&#22823;&#28040;&#24687;&#20445;&#23384;&#30446;&#24405;&#26159;<tt class="literal">data/largemessages</tt>&#12290;</p><p>&#20026;&#20102;&#25552;&#39640;&#24615;&#33021;&#65292;&#25105;&#20204;&#24314;&#35758;&#23558;&#22823;&#28040;&#24687;&#30340;&#20445;&#23384;&#30446;&#24405;&#23450;&#20041;&#21040;&#19982;&#28040;&#24687;&#26085;&#24535;&#65288;journal&#65289;&#25110;&#20998;&#39029;&#36716;&#23384;&#30446;&#24405;&#20998;&#24320;&#30340;&#29289;&#29702;&#21367;&#19978;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4190"></a>23.2.&nbsp;&#35774;&#23450;&#38480;&#21046;</h2></div></div><div></div></div><p>&#21442;&#25968;<tt class="literal">min-large-message-size</tt>&#23450;&#20041;&#20102;&#22823;&#28040;&#24687;&#30340;&#26368;&#23567;&#20540;&#12290;
              &#20219;&#20309;&#28040;&#24687;&#30340;&#22823;&#23567;&#22914;&#26524;&#36229;&#36807;&#20102;&#35813;&#20540;&#23601;&#34987;&#35270;&#20026;&#22823;&#28040;&#24687;&#12290;&#19968;&#26086;&#25104;&#20026;&#22823;&#28040;&#24687;&#65292;&#23427;&#23558;&#34987;&#20998;&#25104;&#23567;&#30340;
              &#29255;&#27573;&#26469;&#20256;&#36865;&#12290;</p><p>&#40664;&#35748;&#20540;&#26159;100KiB.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="large-messages.core.config"></a>23.2.1.&nbsp;&#20351;&#29992;&#26680;&#24515;&#30340;API</h3></div></div><div></div></div><p>&#22914;&#26524;&#20351;&#29992;HornetQ&#30340;&#26680;&#24515;&#65292;<tt class="literal">ClientSessionFactory.setMinLargeMessageSize</tt>&#26041;&#27861;
                  &#21487;&#20197;&#35774;&#32622;&#22823;&#28040;&#24687;&#30340;&#26368;&#23567;&#20540;&#12290;</p><pre class="programlisting">ClientSessionFactory factory = 
            HornetQClient.createClientSessionFactory(new 
            TransportConfiguration(NettyConnectorFactory.class.getName()), null);
factory.setMinLargeMessageSize(25 * 1024);</pre><p><a href="configuring-transports.html#configuring-transports.client.side" title="16.3.&nbsp;&#22312;&#23458;&#25143;&#31471;&#30452;&#25509;&#37197;&#32622;&#20256;&#36755;&#23618;">Section&nbsp;16.3, &#8220;&#22312;&#23458;&#25143;&#31471;&#30452;&#25509;&#37197;&#32622;&#20256;&#36755;&#23618;&#8221;</a>&#23545;&#20110;&#22914;&#20309;&#23454;&#20363;&#21270;&#19968;&#20010;&#20250;&#35805;&#24037;&#21378;&#65288;session factory&#65289;
                &#32473;&#20986;&#20102;&#36827;&#19968;&#27493;&#30340;&#35828;&#26126;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4213"></a>23.2.2.&nbsp;&#20351;&#29992;JMS</h3></div></div><div></div></div><p>&#22914;&#26524;&#36830;&#25509;&#24037;&#21378;&#26159;&#36890;&#36807;JNDI&#26041;&#24335;&#33719;&#24471;&#30340;&#65292;&#21017;&#38656;&#35201;&#22312;<tt class="literal">hornetq-jms.xml</tt>&#25991;&#20214;&#20013;&#23450;&#20041;&#65306;</p><pre class="programlisting">...
&lt;connection-factory name="ConnectionFactory"&gt;
&lt;connectors&gt;
   &lt;connector-ref connector-name="netty"/&gt;
&lt;/connectors&gt;
&lt;entries&gt;
   &lt;entry name="ConnectionFactory"/&gt;
   &lt;entry name="XAConnectionFactory"/&gt;
&lt;/entries&gt;
                
&lt;min-large-message-size&gt;250000&lt;/min-large-message-size&gt;
&lt;/connection-factory&gt;
...</pre><p>&#22914;&#26524;&#26159;&#30452;&#25509;&#23454;&#20363;&#21270;&#36830;&#25509;&#24037;&#21378;&#65292;&#21017;&#20351;&#29992;<tt class="literal">HornetQConnectionFactory.setMinLargeMessageSize</tt>&#26041;&#27861;&#26469;&#23450;&#20041;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4228"></a>23.3.&nbsp;&#22823;&#28040;&#24687;&#19982;&#27969;&#65288;stream&#65289;</h2></div></div><div></div></div><p>&#22312;HornetQ&#20013;&#21487;&#20197;&#23450;&#20041;&#22823;&#28040;&#24687;&#25152;&#20351;&#29992;&#30340;&#36755;&#20837;&#21644;&#36755;&#20986;&#27969;&#65288;<tt class="literal">java.lang.io</tt>)&#12290;</p><p>HornetQ&#23558;&#20351;&#29992;&#23450;&#20041;&#30340;&#27969;&#26469;&#21457;&#36865;&#65288;&#36755;&#20837;&#27969;&#65289;&#21644;&#25509;&#25910;&#65288;&#36755;&#20986;&#27969;&#65289;&#22823;&#28040;&#24687;&#12290;</p><p>&#22312;&#20351;&#29992;&#36755;&#20986;&#27969;&#25509;&#25910;&#22823;&#28040;&#24687;&#26102;&#65292;&#26377;&#20004;&#31181;&#36873;&#25321;&#65306;&#20320;&#21487;&#20197;&#29992;<tt class="literal">ClientMessage.saveOutputStream</tt>&#26041;&#27861;
            &#20197;&#38459;&#22622;&#30340;&#26041;&#24335;&#20445;&#23384;&#22823;&#28040;&#24687;&#65307;&#25110;&#32773;&#20320;&#21487;&#20197;&#20351;&#29992;<tt class="literal">ClientMessage.setOutputstream</tt>&#26041;&#27861;
            &#20197;&#24322;&#27493;&#26041;&#27861;&#20445;&#23384;&#22823;&#28040;&#24687;&#12290;&#22312;&#37319;&#29992;&#21518;&#19968;&#31181;&#26041;&#27861;&#26102;&#65292;&#24517;&#39035;&#20445;&#35777;&#25509;&#25910;&#32773;&#65288;consumer&#65289;&#22312;&#22823;&#28040;&#24687;&#30340;&#25509;&#25910;&#36807;&#31243;&#20013;&#20445;&#25345;
            &#26377;&#25928;&#29366;&#24577;&#12290;</p><p>&#26681;&#25454;&#38656;&#35201;&#36873;&#25321;&#25152;&#36866;&#21512;&#30340;&#27969;&#12290;&#26368;&#24120;&#35265;&#30340;&#24773;&#20917;&#26159;&#23558;&#30913;&#30424;&#25991;&#20214;&#20197;&#28040;&#24687;&#26041;&#24335;&#21457;&#36865;&#65292;&#20063;&#26377;&#21487;&#33021;&#26159;JDBC&#30340;Blob&#25968;&#25454;&#65292;
            &#25110;&#32773;&#26159;&#19968;&#20010;<tt class="literal">SocketInputStream</tt>&#65292;&#25110;&#26159;&#26469;&#33258;<tt class="literal">HTTPRequests</tt>
            &#30340;&#25968;&#25454;&#31561;&#31561;&#12290;&#21482;&#35201;&#26159;&#23454;&#29616;&#20102;<tt class="literal">java.io.InputStream</tt>&#21644;
            <tt class="literal">java.io.OutputStream</tt>&#30340;&#25968;&#25454;&#28304;&#37117;&#21487;&#20197;&#20316;&#20026;&#22823;&#28040;&#24687;&#20256;&#36865;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4260"></a>23.3.1.&nbsp;&#26680;&#24515;API&#20013;&#27969;&#30340;&#20351;&#29992;</h3></div></div><div></div></div><p>&#19979;&#34920;&#21015;&#20986;&#20102;<tt class="literal">ClientMessage</tt>&#19978;&#21487;&#20197;&#20351;&#29992;&#30340;&#26041;&#27861;&#12290;
                  &#36890;&#36807;&#30456;&#24212;&#30340;&#23545;&#35937;&#23646;&#24615;&#20063;&#21487;&#20197;&#22312;JMS&#20013;&#24212;&#29992;&#12290;</p><div class="table"><a name="large-messages.ClientMessageAPI"></a><p class="title"><b>Table&nbsp;23.1.&nbsp;org.hornetq.api.core.client.ClientMessage API</b></p><table summary="org.hornetq.api.core.client.ClientMessage API" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>&#21517;&#31216;</th><th>&#35828;&#26126;</th><th>JMS&#30456;&#23545;&#24212;&#30340;&#23646;&#24615;</th></tr></thead><tbody><tr><td>setBodyInputStream(InputStream)</td><td>&#35774;&#23450;&#22823;&#28040;&#24687;&#21457;&#36865;&#26102;&#25152;&#20351;&#29992;&#30340;&#36755;&#20837;&#27969;&#12290;</td><td>JMS_HQ_InputStream</td></tr><tr><td>setOutputStream(OutputStream)</td><td>&#35774;&#23450;&#24322;&#27493;&#25509;&#25910;&#22823;&#28040;&#24687;&#25152;&#20351;&#29992;&#30340;&#36755;&#20986;&#27969;&#12290;</td><td>JMS_HQ_OutputStream</td></tr><tr><td>saveOutputStream(OutputStream)</td><td>&#35774;&#23450;&#20445;&#23384;&#22823;&#28040;&#24687;&#25152;&#20351;&#29992;&#30340;&#36755;&#20986;&#27969;&#12290;&#36825;&#20010;&#26041;&#27861;&#23558;&#20250;&#38459;&#22622;&#30452;&#21040;&#22823;&#28040;&#24687;&#20840;&#37096;
                                   &#20445;&#23384;&#23436;&#27605;&#25165;&#36820;&#22238;&#12290;</td><td>JMS_HQ_SaveStream</td></tr></tbody></table></div><p>&#19979;&#38754;&#20195;&#30721;&#20013;&#35774;&#23450;&#20102;&#25509;&#25910;&#26680;&#24515;&#28040;&#24687;&#25152;&#29992;&#30340;&#36755;&#20986;&#27969;&#65306; </p><pre class="programlisting">
...
ClientMessage msg = consumer.receive(...);


// This will block here until the stream was transferred
msg.saveOutputStream(someOutputStream); 

ClientMessage msg2 = consumer.receive(...);

// This will not wait the transfer to finish
msg.setOutputStream(someOtherOutputStream); 
...
                
            </pre><p> &#35774;&#23450;&#21457;&#36865;&#26680;&#24515;&#28040;&#24687;&#25152;&#29992;&#30340;&#36755;&#20837;&#27969;&#65306; </p><pre class="programlisting">
...
ClientMessage msg = session.createMessage();
msg.setInputStream(dataInputStream);
...
            </pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="large-messages.streaming.over.jms"></a>23.3.2.&nbsp;&#22312;JMS&#20013;&#20351;&#29992;&#27969;</h3></div></div><div></div></div><p>&#20351;&#29992;JMS&#26102;&#65292;HornetQ&#26681;&#25454;&#23450;&#20041;&#30340;&#23646;&#24615;&#20540;&#35843;&#29992;&#23545;&#24212;&#30340;&#26680;&#24515;&#25509;&#21475;&#65288;&#21442;&#35265; <a href="large-messages.html#large-messages.ClientMessageAPI" title="Table&nbsp;23.1.&nbsp;org.hornetq.api.core.client.ClientMessage API">Table&nbsp;23.1, &#8220;org.hornetq.api.core.client.ClientMessage API&#8221;</a>&#65289;&#26469;&#20351;&#29992;&#27969;&#12290;&#20320;&#21482;&#38656;&#35201;&#29992;
                  <tt class="literal">Message.setObjectProperty</tt>&#26041;&#27861;&#35774;&#32622;&#36866;&#24403;&#30340;&#36755;&#20837;&#65295;&#36755;&#20986;&#27969;&#21363;&#21487;&#12290;</p><p>&#36755;&#20837;&#27969;<tt class="literal">InputStream</tt>&#21487;&#20197;&#36890;&#36807;JMS&#23646;&#24615;JMS_HQ_InputStream&#26469;&#23450;&#20041;&#65306;</p><pre class="programlisting">
BytesMessage message = session.createBytesMessage();

FileInputStream fileInputStream = new FileInputStream(fileInput);

BufferedInputStream bufferedInput = new BufferedInputStream(fileInputStream);

message.setObjectProperty("JMS_HQ_InputStream", bufferedInput);

someProducer.send(message);</pre><p>&#36755;&#20986;&#27969;<tt class="literal">OutputStream</tt>&#21487;&#20197;&#36890;&#36807;JMS&#23646;&#24615;JMS_HQ_SaveStream&#26469;&#23450;&#20041;&#12290;&#19979;&#38754;&#26159;&#38459;&#22622;&#24335;&#26041;&#27861;&#65306;</p><pre class="programlisting">
BytesMessage messageReceived = (BytesMessage)messageConsumer.receive(120000);
                
File outputFile = new File("huge_message_received.dat");
                
FileOutputStream fileOutputStream = new FileOutputStream(outputFile);
                
BufferedOutputStream bufferedOutput = new BufferedOutputStream(fileOutputStream);
                
// This will block until the entire content is saved on disk
messageReceived.setObjectProperty("JMS_HQ_SaveStream", bufferedOutput);
            </pre><p>&#20063;&#21487;&#20197;&#20351;&#29992;JMS_HQ_OutputStream&#23646;&#24615;&#20197;&#38750;&#38459;&#22622;&#24335;&#65288;&#24322;&#27493;&#65289;&#26041;&#27861;&#26469;&#23450;&#20041;&#36755;&#20986;&#27969;<tt class="literal">OutputStream</tt>&#65306;</p><pre class="programlisting">
// This won't wait the stream to finish. You need to keep the consumer active.
messageReceived.setObjectProperty("JMS_HQ_OutputStream", bufferedOutput);
            </pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>&#20351;&#29992;JMS&#26102;&#65292;&#21482;&#26377;<tt class="literal">StreamMessage</tt>&#21644;<tt class="literal">BytesMessage</tt>&#25165;&#25903;&#25345;&#22823;&#28040;&#24687;&#30340;&#20256;&#36865;&#12290;</p></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4353"></a>23.4.&nbsp;&#19981;&#20351;&#29992;&#27969;&#30340;&#26041;&#24335;</h2></div></div><div></div></div><p>&#22914;&#26524;&#19981;&#24819;&#20351;&#29992;&#36755;&#20837;&#27969;&#19982;&#36755;&#20986;&#27969;&#26469;&#20256;&#36865;&#22823;&#28040;&#24687;&#65292;&#21487;&#20197;&#29992;&#21478;&#22806;&#19968;&#31181;&#26041;&#27861;&#12290;</p><p>&#20351;&#29992;&#26680;&#24515;&#25509;&#21475;&#26102;&#65292;&#21487;&#20197;&#30452;&#25509;&#20174;&#28040;&#24687;&#20013;&#35835;&#23383;&#33410;&#12290;</p><pre class="programlisting">ClientMessage msg = consumer.receive();
         
byte[] bytes = new byte[1024];
for (int i = 0 ;  i &lt; msg.getBodySize(); i += bytes.length)
{
   msg.getBody().readBytes(bytes);
   // Whatever you want to do with the bytes
}</pre><p>&#20351;&#29992;JMS&#25509;&#21475;&#26102;&#65292;<tt class="literal">BytesMessage</tt>&#21644;<tt class="literal">StreamMessage</tt>
            &#26412;&#36523;&#25552;&#20379;&#36825;&#26679;&#30340;&#25903;&#25345;&#12290;</p><pre class="programlisting">BytesMessage rm = (BytesMessage)cons.receive(10000);

byte data[] = new byte[1024];

for (int i = 0; i &lt; rm.getBodyLength(); i += 1024)
{
   int numberOfBytes = rm.readBytes(data);
   // Do whatever you want with the data
}        </pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="large-messages.cache.client"></a>23.5.&nbsp;&#22312;&#23458;&#25143;&#31471;&#32531;&#23384;&#22823;&#28040;&#24687;</h2></div></div><div></div></div><p>&#22823;&#28040;&#24687;&#36890;&#36807;&#27969;&#22312;&#26381;&#21153;&#22120;&#21644;&#23458;&#25143;&#31471;&#20043;&#38388;&#20256;&#36755;&#12290;&#27599;&#20010;&#22823;&#28040;&#24687;&#34987;&#20998;&#21106;&#25104;&#24456;&#22810;&#23567;&#30340;&#25968;&#25454;&#21253;&#20256;&#36882;&#12290;&#22240;&#27492;&#22823;&#28040;&#24687;&#21482;&#33021;&#34987;
            &#35835;&#21462;&#19968;&#27425;&#12290;&#36825;&#26679;&#19968;&#20010;&#22823;&#28040;&#24687;&#22312;&#25910;&#21040;&#21518;&#23601;&#19981;&#33021;&#20877;&#34987;&#20877;&#27425;&#20256;&#36865;&#12290;&#20363;&#22914;&#65292;JMS Bridge&#22312;&#21457;&#36865;&#22823;&#28040;&#24687;&#26102;&#22914;&#26524;&#22312;&#20986;&#29616;&#25925;&#38556;&#65292;
            &#23558;&#19981;&#33021;&#25226;&#23427;&#37325;&#26032;&#21457;&#36865;&#12290;</p><p>&#35201;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#65292;&#21487;&#20197;&#22312;&#36830;&#25509;&#24037;&#21378;&#19978;&#35774;&#32622;<tt class="literal">cache-large-message-client</tt>&#23646;&#24615;&#12290;
            &#36825;&#20010;&#23646;&#24615;&#21487;&#20197;&#20351;&#23458;&#25143;&#31471;&#25509;&#25910;&#32773;&#21019;&#24314;&#19968;&#20010;&#20020;&#26102;&#30340;&#25991;&#20214;&#20445;&#23384;&#25910;&#21040;&#30340;&#22823;&#28040;&#24687;&#65292;&#36825;&#26679;&#23601;&#21487;&#20197;&#22312;&#38656;&#35201;&#26102;&#33021;&#22815;&#37325;&#26032;&#21457;&#36865;&#35813;&#28040;&#24687;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>&#22914;&#26524;JMS Bridge&#29992;&#26469;&#21457;&#36865;&#22823;&#28040;&#24687;&#65292;&#21487;&#20197;&#22312;&#23427;&#20351;&#29992;&#30340;&#36830;&#25509;&#24037;&#21378;&#19978;&#20351;&#29992;&#23427;&#12290;</div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="large-messages.example"></a>23.6.&nbsp;&#22823;&#28040;&#24687;&#20363;&#23376;</h2></div></div><div></div></div><p>&#25105;&#20204;&#22312;<a href="examples.html#examples.large-message" title="11.1.22.&nbsp;&#22823;&#28040;&#24687;">Section&nbsp;11.1.22, &#8220;&#22823;&#28040;&#24687;&#8221;</a>&#25552;&#20379;&#20102;&#19968;&#20010;&#22312;JMS&#20013;&#37197;&#32622;&#21644;&#20351;&#29992;&#22823;&#28040;&#24687;&#30340;&#20363;&#23376;&#12290;</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="message-expiry.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="paging.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;22.&nbsp;&#36807;&#26399;&#30340;&#28040;&#24687;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;24.&nbsp;&#20998;&#39029;&#36716;&#23384;</td></tr></table></div></body></html>