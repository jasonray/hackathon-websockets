<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;44.&nbsp;&#25318;&#25130;&#25805;&#20316;</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="HornetQ 2.1&#29992;&#25143;&#25163;&#20876;"><link rel="up" href="index.html" title="HornetQ 2.1&#29992;&#25143;&#25163;&#20876;"><link rel="previous" href="embedding-hornetq.html" title="Chapter&nbsp;43.&nbsp;&#23884;&#20837;&#24335;HornetQ"><link rel="next" href="interoperability.html" title="Chapter&nbsp;45.&nbsp;&#20114;&#25805;&#20316;&#24615;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;44.&nbsp;&#25318;&#25130;&#25805;&#20316;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="embedding-hornetq.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="interoperability.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="intercepting-operations"></a>Chapter&nbsp;44.&nbsp;&#25318;&#25130;&#25805;&#20316;</h2></div></div><div></div></div><p>HornetQ&#25903;&#25345;<span class="emphasis"><em>&#25318;&#25130;&#22120;</em></span>&#12290;&#25318;&#25130;&#22120;&#21487;&#20197;&#25318;&#25130;&#36827;&#20837;&#26381;&#21153;&#22120;&#30340;&#25968;&#25454;&#21253;&#12290;&#27599;&#36827;&#20837;&#26381;&#21153;&#22120;
       &#19968;&#20010;&#25968;&#25454;&#21253;&#65292;&#25318;&#25130;&#22120;&#23601;&#34987;&#35843;&#29992;&#19968;&#27425;&#65292;&#20801;&#35768;&#19968;&#20123;&#29305;&#27530;&#21644;&#22788;&#29702;&#65292;&#20363;&#22914;&#23545;&#21253;&#30340;&#23457;&#35745;&#12289;&#36807;&#28388;&#31561;&#12290;&#25318;&#25130;&#22120;&#21487;&#20197;&#23545;&#25968;&#25454;&#21253;
       &#36827;&#34892;&#25913;&#21160;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e10684"></a>44.1.&nbsp;&#23454;&#29616;&#25318;&#25130;&#22120;</h2></div></div><div></div></div><p>&#25318;&#25130;&#22120;&#24517;&#39035;&#35201;&#23454;&#29616;<tt class="literal">Interceptor&#25509;&#21475;</tt>&#65306;</p><pre class="programlisting">
package org.hornetq.api.core.interceptor;

public interface Interceptor
{   
   boolean intercept(Packet packet, RemotingConnection connection) 
                throws HornetQException;
}
         </pre><p>&#23427;&#30340;&#26041;&#27861;&#30340;&#36820;&#22238;&#20540;&#26159;&#24456;&#37325;&#35201;&#30340;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#22914;&#26524;&#36820;&#22238;<tt class="literal">true</tt>&#65292;&#22788;&#29702;&#27491;&#24120;&#36827;&#34892;&#19979;&#21435;&#12290;</p></li><li><p>&#22914;&#26524;&#36820;&#22238;<tt class="literal">false</tt>&#65292;&#21017;&#22788;&#29702;&#34987;&#20013;&#26029;&#65292;&#20854;&#23427;&#30340;&#25318;&#25130;&#22120;&#23558;&#19981;&#20250;&#34987;&#35843;&#29992;&#65292;&#25968;&#25454;&#21253;&#23558;&#19981;&#20250;
               &#34987;&#26381;&#21153;&#22120;&#25152;&#22788;&#29702;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e10709"></a>44.2.&nbsp;&#37197;&#32622;&#25318;&#25130;&#22120;</h2></div></div><div></div></div><p>&#25318;&#25130;&#22120;&#30340;&#37197;&#32622;&#22312;<tt class="literal">hornetq-configuration.xml</tt>&#25991;&#20214;&#20013;&#65306;</p><pre class="programlisting">
&lt;remoting-interceptors&gt;
   &lt;class-name&gt;org.hornetq.jms.example.LoginInterceptor&lt;/class-name&gt;
   &lt;class-name&gt;org.hornetq.jms.example.AdditionalPropertyInterceptor&lt;/class-name&gt;
&lt;/remoting-interceptors&gt;
         </pre><p>&#25318;&#25130;&#22120;&#30340;&#31867;&#65288;&#20197;&#21450;&#23427;&#20204;&#20381;&#36182;&#30340;&#31867;&#65289;&#24517;&#39035;&#35201;&#22312;&#26381;&#21153;&#22120;&#30340;classpath&#20013;&#65292;&#21542;&#21017;&#19981;&#33021;&#34987;&#27491;&#24120;&#21021;&#22987;&#21270;&#21450;&#35843;&#29992;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e10721"></a>44.3.&nbsp;&#23458;&#25143;&#31471;&#25318;&#25130;&#22120;</h2></div></div><div></div></div><p>&#22312;&#23458;&#25143;&#31471;&#20063;&#21487;&#20197;&#26377;&#25318;&#25130;&#22120;&#26469;&#25318;&#25130;<span class="emphasis"><em>&#26469;&#33258;&#26381;&#21153;&#22120;</em></span>&#30340;&#25968;&#25454;&#21253;&#12290;<tt class="code">ClientSessionFactory</tt>
         &#30340;<tt class="code">addInterceptor()</tt>&#26041;&#27861;&#21487;&#20197;&#29992;&#26469;&#28155;&#21152;&#25318;&#25130;&#22120;&#12290;</p><p>&#21516;&#26679;&#25318;&#25130;&#22120;&#30340;&#31867;&#65288;&#20197;&#21450;&#23427;&#20204;&#20381;&#36182;&#30340;&#31867;&#65289;&#24517;&#39035;&#35201;&#22312;&#23458;&#25143;&#31471;&#30340;classpath&#20013;&#65292;&#21542;&#21017;&#23427;&#20204;&#19981;&#33021;&#34987;&#27491;&#24120;&#21021;&#22987;&#21270;&#21450;&#35843;&#29992;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e10737"></a>44.4.&nbsp;&#20363;&#23376;</h2></div></div><div></div></div><p>&#21442;&#35265;<a href="examples.html#examples.interceptor" title="11.1.18.&nbsp;&#25318;&#25130;&#22120;&#65288;Interceptor&#65289;">Section&nbsp;11.1.18, &#8220;&#25318;&#25130;&#22120;&#65288;Interceptor&#65289;&#8221;</a>&#12290;&#36825;&#20010;&#20363;&#23376;&#20013;&#23637;&#31034;&#20102;&#22914;&#20309;&#20351;&#29992;&#25318;&#25130;&#22120;&#21521;&#21457;&#24448;&#26381;&#21153;&#22120;&#30340;&#28040;&#24687;&#20013;
         &#28155;&#21152;&#23646;&#24615;&#12290;</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="embedding-hornetq.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="interoperability.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;43.&nbsp;&#23884;&#20837;&#24335;HornetQ&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;45.&nbsp;&#20114;&#25805;&#20316;&#24615;</td></tr></table></div></body></html>