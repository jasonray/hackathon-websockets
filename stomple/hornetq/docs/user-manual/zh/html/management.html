<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;30.&nbsp;&#31649;&#29702;</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="HornetQ 2.1&#29992;&#25143;&#25163;&#20876;"><link rel="up" href="index.html" title="HornetQ 2.1&#29992;&#25143;&#25163;&#20876;"><link rel="previous" href="pre-acknowledge.html" title="Chapter&nbsp;29.&nbsp;&#39044;&#20808;&#36890;&#30693;&#27169;&#24335;&#65288;pre-acknowledge&#65289;"><link rel="next" href="security.html" title="Chapter&nbsp;31.&nbsp;&#23433;&#20840;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;30.&nbsp;&#31649;&#29702;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pre-acknowledge.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="security.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="management"></a>Chapter&nbsp;30.&nbsp;&#31649;&#29702;</h2></div></div><div></div></div><p>HornetQ&#25317;&#26377;&#22871;&#20016;&#23500;&#30340;&#31649;&#29702;&#25509;&#21475;&#12290;&#29992;&#25143;&#20351;&#29992;&#36825;&#20123;&#25509;&#21475;&#21487;&#20197;&#20462;&#25913;&#26381;&#21153;&#22120;&#37197;&#32622;&#12289;&#21019;&#24314;&#26032;&#30340;&#36164;&#28304;&#65288;&#22914;&#38431;&#21015;&#21644;
      &#35805;&#39064;&#65289;&#12289;&#26816;&#26597;&#36825;&#20123;&#36164;&#28304;&#65288;&#22914;&#38431;&#21015;&#20013;&#26377;&#22810;&#23569;&#28040;&#24687;&#65289;&#24182;&#36827;&#34892;&#31649;&#29702;&#65288;&#20174;&#38431;&#21015;&#20013;&#21024;&#38500;&#28040;&#24687;&#65289;&#12290;&#36825;&#26679;&#29992;&#25143;&#21487;&#20197;
      <span class="emphasis"><em>&#31649;&#29702;</em></span>HornetQ&#12290;&#21478;&#22806;&#65292;&#23458;&#25143;&#36824;&#21487;&#20197;&#35746;&#38405;&#31649;&#29702;&#36890;&#30693;&#12290;</p><p>&#26377;&#19977;&#31181;&#26041;&#24335;&#31649;&#29702;HornetQ&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#20351;&#29992;JMX -- JMX&#26159;&#26631;&#20934;&#30340;Java&#24212;&#29992;&#31243;&#24207;&#31649;&#29702;&#26041;&#24335;&#12290;</p></li><li><p>&#20351;&#29992;&#26680;&#24515;&#25509;&#21475; -- &#31649;&#29702;&#25805;&#20316;&#36890;&#36807;<span class="emphasis"><em>&#26680;&#24515;&#28040;&#24687;</em></span>&#30340;&#26041;&#27861;&#21457;&#21521;HornetQ&#26381;
         &#21153;&#12290;</p></li><li><p>&#20351;&#29992;JMS&#25509;&#21475; -- &#31649;&#29702;&#25805;&#20316;&#36890;&#36807;<span class="emphasis"><em>JMS&#28040;&#24687;</em></span>&#30340;&#26041;&#24335;&#21457;&#21521;HornetQ&#26381;&#21153;&#22120;&#12290;</p></li></ul></div><p>&#34429;&#28982;&#26377;&#19977;&#31181;&#26041;&#24335;&#65292;&#20294;&#23427;&#20204;&#25552;&#20379;&#30456;&#21516;&#30340;&#21151;&#33021;&#12290;&#20351;&#29992;JMX&#26041;&#27861;&#33021;&#23436;&#25104;&#30340;&#21151;&#33021;&#20351;&#29992;&#26680;&#24515;&#25509;&#21475;&#25110;JMS&#25509;&#21475;&#37117;&#21487;&#20197;&#23436;&#25104;&#12290;</p><p>&#26681;&#25454;&#19981;&#21516;&#30340;&#24212;&#29992;&#29615;&#22659;&#26469;&#36873;&#25321;&#26368;&#36866;&#24403;&#30340;&#26041;&#24335;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5210"></a>30.1.&nbsp;&#31649;&#29702;&#25509;&#21475;API</h2></div></div><div></div></div><p>&#19981;&#31649;&#20351;&#29992;&#21738;&#31181;&#26041;&#24335;&#65292;&#31649;&#29702;&#25509;&#21475;&#37117;&#26159;&#19968;&#26679;&#30340;&#12290;</p><p>&#23545;&#20110;&#27599;&#20010;<span class="emphasis"><em>&#34987;&#31649;&#29702;&#30340;&#36164;&#28304;</em></span>&#37117;&#26377;&#19968;&#20010;Java&#30340;&#25509;&#21475;&#25552;&#20379;&#21487;&#20351;&#29992;&#30340;&#25805;&#20316;&#12290;</p><p>HornetQ&#30340;&#31649;&#29702;&#25509;&#21475;&#20998;&#24067;&#22312;2&#20010;&#21253;&#20013;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p><span class="emphasis"><em>&#26680;&#24515;</em></span>&#36164;&#28304;&#30340;&#31649;&#29702;&#25509;&#21475;&#22312; <tt class="literal">org.hornetq.api.core.management</tt>&#21253;&#20013;&#12290;</p></li><li><p><span class="emphasis"><em>JMS</em></span>&#36164;&#28304;&#30340;&#31649;&#29702;&#25509;&#21475;&#22312; <tt class="literal">org.hornetq.api.jms.management</tt>&#21253;&#20013;&#12290;</p></li></ul></div><p>&#35843;&#29992;<span class="emphasis"><em>&#31649;&#29702;&#25805;&#20316;</em></span>&#30340;&#26041;&#27861;&#30001;&#25152;&#20351;&#29992;&#26159;&#26041;&#24335;&#26159;JMX&#12289;&#26680;&#24515;&#28040;&#24687;&#36824;&#26159;JMS
         &#28040;&#24687;&#26469;&#20915;&#23450;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>&#19968;&#23567;&#37096;&#20998;&#30340;&#31649;&#29702;&#25509;&#21475;&#38656;&#35201;&#19968;&#20010;<tt class="literal">&#36807;&#28388;&#22120;</tt>&#21442;&#25968;&#26469;&#36873;&#25321;&#38656;&#35201;&#30340;&#28040;&#24687;&#12290;
            &#22914;&#26524;&#35201;&#27714;<span class="emphasis"><em>&#25152;&#26377;&#30340;&#28040;&#24687;</em></span>&#65292;&#20256;&#36882;&#35813;&#21442;&#25968;&#26102;&#20351;&#29992;<tt class="literal">
            null</tt>&#25110;&#32773;&#19968;&#20010;&#31354;&#30340;&#23383;&#31526;&#20018;&#21363;&#21487;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5256"></a>30.1.1.&nbsp;&#26680;&#24515;&#31649;&#29702;&#25509;&#21475;</h3></div></div><div></div></div><p>HornetQ&#23450;&#20041;&#20102;&#19968;&#22871;&#23545;&#26680;&#24515;&#36164;&#28304;&#30340;&#31649;&#29702;&#25509;&#21475;&#12290;&#20851;&#20110;&#23427;&#20204;&#30340;&#35814;&#32454;&#35828;&#26126;&#35831;&#21442;&#35265;&#30456;&#24212;&#30340;javadoc&#12290;
            &#19979;&#38754;&#26159;&#23545;&#23427;&#20204;&#30340;&#27010;&#36848;&#65306;</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e5261"></a>30.1.1.1.&nbsp;&#26680;&#24515;&#26381;&#21153;&#22120;&#31649;&#29702;</h4></div></div><div></div></div><div class="itemizedlist"><ul type="disc"><li><p>&#38431;&#21015;&#30340;&#21015;&#34920;&#12289;&#21019;&#24314;&#12289;&#37096;&#32626;&#19982;&#21024;&#38500;</p><p><tt class="literal">getQueueNames()</tt> method&#26041;&#27861;&#29992;&#26469;&#21015;&#20986;&#25152;&#26377;&#24050;&#32463;&#37096;&#32626;&#30340;&#38431;&#21015;&#12290;</p><p>&#22312;<tt class="literal">HornetQServerControl</tt> &#65288;ObjectName <tt class="literal">org.hornetq:module=Core,type=Server</tt>&#25110;&#36164;&#28304;&#21517;<tt class="literal">core.server</tt>&#65289;&#19978;&#26377;&#38431;&#21015;&#21019;&#24314;&#25110;&#21024;&#38500;&#30340;&#26041;&#27861;&#65292;&#23427;&#20204;&#26159;
                        <tt class="literal">createQueue()</tt>&#12289;<tt class="literal">deployQueue()</tt>&#21644;
                        <tt class="literal">destroyQueue()</tt>&#12290;</p><p>&#22914;&#26524;&#38431;&#21015;&#24050;&#32463;&#23384;&#22312;&#65292;&#37027;&#20040;<tt class="literal">createQueue</tt>&#26041;&#27861;&#35843;&#29992;&#20250;&#20986;&#38169;&#65292;&#32780;
                        <tt class="literal">deployQueue</tt>&#26041;&#27861;&#35843;&#29992;&#27809;&#26377;&#20219;&#20309;&#20316;&#29992;&#12290;</p></li><li><p>&#26242;&#20572;&#19982;&#24674;&#22797;&#38431;&#21015;</p><p><tt class="literal">QueueControl</tt>&#21487;&#29992;&#26469;&#26242;&#20572;&#19982;&#24674;&#22797;&#38431;&#21015;&#12290;&#22914;&#26524;&#19968;&#20010;&#38431;&#21015;&#34987;&#26242;&#20572;&#65292;&#23427;
                     &#34429;&#28982;&#21487;&#20197;&#32487;&#32493;&#25509;&#25910;&#28040;&#24687;&#20294;&#26159;&#19981;&#20256;&#36882;&#28040;&#24687;&#65307;&#24403;&#34987;&#24674;&#22797;&#26102;&#65292;&#38431;&#21015;&#21448;&#20250;&#24320;&#22987;&#20256;&#36882;&#28040;&#24687;&#12290;
                  </p></li><li><p>&#36828;&#31243;&#36830;&#25509;&#30340;&#21015;&#34920;&#19982;&#20851;&#38381;</p><p><tt class="literal">listRemoteAddresses()</tt>&#26041;&#27861;&#21487;&#20197;&#29992;&#26469;&#21015;&#20986;&#23458;&#25143;&#31471;&#30340;&#36828;&#31243;&#22320;&#22336;&#12290;
                     &#36824;&#21487;&#20197;&#20351;&#29992;<tt class="literal">closeConnectionsForAddress()</tt>&#26041;&#27861;&#26469;&#20851;&#38381;
                     &#19982;&#35813;&#22320;&#22336;&#30456;&#20851;&#30340;&#36828;&#31243;&#36830;&#25509;&#12290;</p><p>&#21478;&#22806;&#65292;&#20351;&#29992;<tt class="literal">listConnectionIDs()</tt>&#26041;&#27861;&#21487;&#20197;&#21015;&#20986;&#36830;&#25509;ID&#65292;
                     &#20351;&#29992;<tt class="literal">listSessions()</tt>&#26041;&#27861;&#21487;&#20197;&#21015;&#20986;&#19982;&#19968;&#20010;&#36830;&#25509;ID&#30456;&#20851;&#30340;&#25152;&#26377;
                     &#20250;&#35805;&#65288;session&#65289;&#12290;</p></li><li><p>&#20107;&#21153;&#30340;&#25163;&#21160;&#25805;&#20316;&#65288;heuristic operations&#65289;</p><p>&#24403;&#26381;&#21153;&#22120;&#30001;&#20110;&#25925;&#38556;&#32780;&#37325;&#26032;&#21551;&#21160;&#26102;&#65292;&#21487;&#33021;&#36896;&#25104;&#19968;&#20123;&#20107;&#21153;&#27809;&#26377;&#23436;&#25104;&#32780;&#38656;&#35201;&#20154;&#24037;&#24178;&#39044;&#12290;
                        <tt class="literal">listPreparedTransactions()</tt>&#26041;&#27861;&#21487;&#20197;&#21015;&#20986;&#25152;&#26377;&#22788;&#20110;
                     &#20934;&#22791;&#65288;prepared&#65289;&#29366;&#24577;&#30340;&#20107;&#21153;&#65288;&#20107;&#21153;&#26159;&#29992;Base64&#23383;&#31526;&#20018;&#30340;&#24418;&#24335;&#21015;&#20986;&#65289;&#12290;&#22914;&#26524;&#35201;&#25552;&#20132;&#25110;&#22238;&#28378;&#65292;
                     &#21487;&#20197;&#20351;&#29992;<tt class="literal">commitPreparedTransaction()</tt>&#26041;&#27861;&#25110;
                     <tt class="literal">rollbackPreparedTransaction()</tt>&#26041;&#27861;&#12290;&#37319;&#29992;&#21551;&#21457;&#24335;
                    &#65288;heuristic&#65289;&#23436;&#25104;&#30340;&#20107;&#21153;&#21487;&#20197;&#29992;<tt class="literal">listHeuristicCommittedTransactions()</tt>
                     &#26041;&#27861;&#21644;<tt class="literal">listHeuristicRolledBackTransactions</tt>&#26041;&#27861;&#21015;&#20986;&#12290;</p></li><li><p>&#25171;&#24320;&#21644;&#37325;&#32622;&#28040;&#24687;&#35745;&#25968;&#22120;</p><p>&#28040;&#24687;&#35745;&#25968;&#22120;&#21487;&#20197;&#29992;<tt class="literal">enableMessageCounters()</tt>&#26041;&#27861;&#25171;&#24320;&#65292;&#29992;
                        <tt class="literal">disableMessageCounters()</tt>&#26041;&#27861;&#20851;&#38381;&#12290;&#22914;&#26524;&#35201;&#37325;&#32622;&#28040;&#24687;&#35745;&#25968;&#22120;&#65292;
                        &#21487;&#20197;&#20351;&#29992;<tt class="literal">resetAllMessageCounters()</tt>&#26041;&#27861;&#21644;
                        <tt class="literal">resetAllMessageCounterHistories()</tt>&#26041;&#27861;&#12290;</p></li><li><p>&#33719;&#24471;&#26381;&#21153;&#22120;&#30340;&#37197;&#32622;&#21644;&#23646;&#24615;</p><p><tt class="literal">HornetQServerControl</tt>&#25552;&#20379;&#20102;&#35775;&#38382;HornetQ&#26381;&#21153;&#22120;&#25152;&#26377;&#23646;&#24615;
                     &#30340;&#26041;&#27861;&#65288;&#20363;&#22914;<tt class="literal">getVersion()</tt>&#26041;&#27861;&#21487;&#20197;&#24471;&#21040;&#26381;&#21153;&#22120;&#30340;&#29256;&#26412;&#65292;&#31561;&#31561;&#65289;&#12290; </p></li><li><p>&#26680;&#24515;&#26725;&#21644;&#36716;&#21457;&#22120;&#30340;&#21019;&#24314;&#65292;&#21024;&#38500;&#19982;&#21015;&#34920;</p><p>&#20351;&#29992;<tt class="literal">getBridgeNames()</tt>&#21487;&#20197;&#21015;&#20986;&#37096;&#32626;&#30340;&#26680;&#24515;&#26725;&#12290;
                        &#20351;&#29992;<tt class="literal">getDivertNames()</tt>&#21487;&#20197;&#21015;&#20986;&#37096;&#32626;&#30340;&#36716;&#21457;&#22120;&#12290;</p><p>&#20351;&#29992;<tt class="literal">HornetQServerControl</tt> (ObjectName <tt class="literal">org.hornetq:module=Core,type=Server</tt> &#25110;&#36164;&#28304;&#21517; <tt class="literal">core.server</tt>)&#30340;&#26041;&#27861;<tt class="literal">createBridge()</tt>
&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;   &#21644;<tt class="literal">destroyBridge()</tt>&#21487;&#20197;&#21019;&#24314;&#21644;&#21024;&#38500;&#26680;&#24515;&#26725;&#12290;
                        &#36890;&#36807;<tt class="literal">createDivert()</tt>&#21644;<tt class="literal">destroyDivert()</tt>
                        &#21487;&#20197;&#21019;&#24314;&#21644;&#21024;&#38500;&#36716;&#21457;&#22120;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e5406"></a>30.1.1.2.&nbsp;&#26680;&#24515;&#22320;&#22336;&#30340;&#31649;&#29702;</h4></div></div><div></div></div><p>&#26680;&#24515;&#22320;&#22336;&#21487;&#20197;&#36890;&#36807;<tt class="literal">AddressControl</tt>&#31867;&#36827;&#34892;&#35775;&#38382;&#65288;ObjectName
                  &#26159; <tt class="literal">org.hornetq:module=Core,type=Address,name="&lt;the
                  address name&gt;"</tt>&#25110;&#32773;&#36164;&#28304;&#21517; <tt class="literal">core.address.&lt;the
                  address name&gt;</tt>&#65289;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>&#20462;&#25913;&#22320;&#22336;&#30340;&#35282;&#33394;&#21644;&#26435;&#38480;&#12290;</p><p>&#20320;&#21487;&#20197;&#20351;&#29992;<tt class="literal">addRole()</tt>&#26041;&#27861;&#25110;<tt class="literal">removeRole()</tt>
                  &#26041;&#27861;&#28155;&#21152;&#25110;&#21024;&#38500;&#22320;&#22336;&#30340;&#35282;&#33394;&#12290;&#29992;<tt class="literal">getRoles()</tt>&#26041;&#27861;&#21487;&#20197;&#21015;&#20986;&#19968;&#20010;&#22320;&#22336;&#30340;&#25152;&#26377;&#35282;&#33394;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e5435"></a>30.1.1.3.&nbsp;&#26680;&#24515;&#38431;&#21015;&#30340;&#31649;&#29702;</h4></div></div><div></div></div><p>&#31649;&#29702;&#25509;&#21475;&#20013;&#30340;&#19968;&#22823;&#37096;&#20998;&#26159;&#31649;&#29702;&#26680;&#24515;&#38431;&#21015;&#30340;&#12290;<tt class="literal">QueueControl</tt>&#31867;&#23450;&#20041;&#20102;&#26680;&#24515;&#38431;&#21015;&#30340;&#31649;&#29702;
               &#25509;&#21475;&#65288;ObjectName <tt class="literal">org.hornetq:module=Core,type=Queue,address="&lt;&#32465;&#23450;&#22320;&#22336;
                  address&gt;",name="&lt;&#38431;&#21015;&#21517;&gt;"</tt> &#25110;&#36164;&#28304;&#21517; <tt class="literal">core.queue.&lt;&#38431;&#21015;&#21517;&gt;</tt>&#65289;&#12290;</p><p>&#32477;&#22823;&#37096;&#20998;&#30340;&#38431;&#21015;&#31649;&#29702;&#26041;&#27861;&#38656;&#35201;&#19968;&#20010;&#28040;&#24687;ID&#21442;&#25968;&#65288;&#22914;&#21024;&#38500;&#19968;&#20010;&#28040;&#24687;&#65289;&#25110;&#19968;&#20010;&#36807;&#28388;&#22120;&#21442;&#25968;&#65288;&#22914;&#23558;&#20855;&#26377;&#26576;&#20010;
               &#23646;&#24615;&#20540;&#30340;&#25152;&#26377;&#28040;&#24687;&#35774;&#32622;&#20026;&#36807;&#26399;&#65289;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>&#28040;&#24687;&#30340;&#36807;&#26399;&#65292;&#21457;&#21521;&#27515;&#20449;&#22320;&#22336;&#21450;&#21024;&#38500;</p><p><tt class="literal">expireMessages()</tt>&#26041;&#27861;&#21487;&#20197;&#20351;&#28040;&#24687;&#36807;&#26399;&#12290;&#22914;&#26524;&#35774;&#32622;&#20102;&#19968;&#20010;&#36807;&#26399;&#22320;&#22336;&#65292;
                     &#36825;&#20123;&#28040;&#24687;&#20250;&#34987;&#21457;&#21040;&#36807;&#26399;&#22320;&#22336;&#12290;&#21542;&#21017;&#36825;&#20123;&#28040;&#24687;&#20250;&#34987;&#20002;&#24323;&#12290;<tt class="literal">setExpiryAddress()</tt>
                     &#26041;&#27861;&#21487;&#20197;&#29992;&#26469;&#35774;&#32622;&#38431;&#21015;&#30340;&#36807;&#26399;&#22320;&#22336;&#12290;</p><p>&#28040;&#24687;&#21487;&#20197;&#29992;<tt class="literal">sendMessagesToDeadLetterAddress()</tt>&#26041;&#27861;&#21457;&#36865;&#21040;
                     &#19968;&#20010;&#27515;&#20449;&#22320;&#22336;&#12290;&#23427;&#36820;&#22238;&#21457;&#21040;&#36825;&#20010;&#27515;&#20449;&#22320;&#22336;&#30340;&#28040;&#24687;&#30340;&#25968;&#37327;&#12290;&#22914;&#26524;&#27809;&#26377;&#35774;&#32622;&#27515;&#20449;&#22320;&#22336;&#65292;&#37027;&#20040;&#28040;&#24687;&#23601;&#20250;&#20174;&#38431;&#21015;&#20013;
                     &#21024;&#38500;&#12290;&#29992;<tt class="literal">setDeadLetterAddress()</tt>&#26041;&#27861;&#21487;&#20197;&#35774;&#32622;&#38431;&#21015;&#30340;&#27515;&#20449;&#22320;&#22336;&#12290;</p><p>&#28040;&#24687;&#36824;&#21487;&#20197;&#20174;&#19968;&#20010;&#38431;&#21015;&#36716;&#31227;&#21040;&#21478;&#19968;&#20010;&#38431;&#21015;&#12290;&#20854;&#26041;&#27861;&#26159;
                        <tt class="literal">moveMessages()</tt>&#12290;</p></li><li><p>&#28040;&#24687;&#30340;&#21015;&#34920;&#19982;&#21024;&#38500;</p><p>&#29992;<tt class="literal">listMessages()</tt>&#26041;&#27861;&#21487;&#20197;&#21015;&#20986;&#19968;&#20010;&#38431;&#21015;&#20013;&#30340;&#25152;&#26377;&#28040;&#24687;&#12290;&#36825;&#20010;&#26041;&#27861;
                        &#36820;&#22238;&#30340;&#26159;&#19968;&#20010;<tt class="literal">Map</tt>&#30340;&#25968;&#32452;&#12290;&#27599;&#19968;&#20010;Map&#23545;&#24212;&#19968;&#20010;&#28040;&#24687;&#12290;</p><p>&#28040;&#24687;&#21487;&#20197;&#29992;<tt class="literal">removeMessages()</tt>&#26041;&#27861;&#21024;&#38500;&#12290;&#22914;&#26524;&#26159;&#20351;&#29992;&#28040;&#24687;ID&#65292;
                        &#36820;&#22238;&#30340;&#26159;&#19968;&#20010;&#24067;&#23572;&#24120;&#37327;&#65307;&#22914;&#26524;&#26159;&#29992;&#36807;&#28388;&#22120;&#65292;&#21017;&#36820;&#22238;&#30340;
                        &#26159;&#21024;&#38500;&#30340;&#28040;&#24687;&#25968;&#37327;&#12290;&#22312;&#20351;&#29992;&#36807;&#28388;&#22120;&#26469;&#21024;&#38500;&#36807;&#28388;&#30340;&#28040;&#24687;&#26102;&#65292;&#22914;&#26524;&#20256;&#20837;&#19968;&#20010;&#31354;&#23383;&#31526;&#20018;&#21017;&#34920;&#31034;&#35201;&#21024;&#38500;
                        &#25152;&#26377;&#30340;&#28040;&#24687;&#12290;</p></li><li><p>&#28040;&#24687;&#35745;&#25968;</p><p>&#19968;&#20010;&#38431;&#21015;&#20013;&#30340;&#28040;&#24687;&#25968;&#21487;&#20197;&#29992;<tt class="literal">getMessageCount()</tt>&#26041;&#27861;&#33719;&#24471;&#12290;
                        &#27492;&#22806;&#65292;<tt class="literal">countMessages()</tt>&#26041;&#27861;&#21487;&#20197;&#36820;&#22238;&#38431;&#21015;&#20013;&#19982;&#19968;
                        &#20010;<span class="emphasis"><em>&#36807;&#28388;&#22120;</em></span>&#21305;&#37197;&#30340;&#28040;&#24687;&#25968;&#37327;&#12290;</p></li><li><p>&#20462;&#25913;&#28040;&#24687;&#30340;&#20248;&#20808;&#32423;</p><p>&#29992;<tt class="literal">changeMessagesPriority()</tt>&#26041;&#27861;&#21487;&#20197;&#25913;&#21464;&#28040;&#24687;&#30340;&#20248;&#20808;&#32423;&#12290;
                        &#35813;&#26041;&#27861;&#22914;&#26524;&#24102;&#19968;&#20010;&#28040;&#24687;ID&#21442;&#25968;&#65292;&#36820;&#22238;&#19968;&#20010;&#24067;&#23572;&#24120;&#37327;&#65307;&#22914;&#26524;&#24102;&#19968;&#20010;&#36807;&#28388;&#22120;&#21442;&#25968;&#65292;&#36820;&#22238;&#20248;&#20808;&#32423;
                        &#34987;&#26356;&#26032;&#30340;&#28040;&#24687;&#30340;&#25968;&#37327;&#12290;</p></li><li><p>&#28040;&#24687;&#35745;&#25968;&#22120;</p><p>&#29992;<tt class="literal">listMessageCounter()</tt>&#26041;&#27861;&#21644;<tt class="literal">
                        listMessageCounterHistory()</tt>&#26041;&#27861;&#21487;&#20197;&#21015;&#20986;&#19968;&#20010;&#38431;&#21015;&#30340;&#28040;&#24687;&#35745;&#25968;&#22120;&#12290;
                        &#65288;&#21442;&#35265; <a href="management.html#management.message-counters" title="30.6.&nbsp;&#28040;&#24687;&#35745;&#25968;&#22120;">Section&nbsp;30.6, &#8220;&#28040;&#24687;&#35745;&#25968;&#22120;&#8221;</a>&#65289;&#12290;&#28040;&#24687;&#35745;&#25968;&#22120;&#36824;&#21487;&#20197;
                       &#29992;<tt class="literal">resetMessageCounter()</tt>&#26041;&#27861;&#37325;&#32622;&#12290;</p></li><li><p>&#33719;&#24471;&#38431;&#21015;&#30340;&#23646;&#24615;</p><p>&#36890;&#36807;<tt class="literal">QueueControl</tt>&#21487;&#20197;&#33719;&#24471;&#26680;&#24515;&#38431;&#21015;&#30340;&#23646;&#24615;&#65288;&#20363;&#22914;&#29992;
                     <tt class="literal">getFilter()</tt>&#26041;&#27861;&#21487;&#20197;&#24471;&#21040;&#38431;&#21015;&#30340;
                     &#36807;&#28388;&#22120;&#65292;<tt class="literal">isDurable()</tt>&#26041;&#27861;&#21487;&#20197;&#30693;&#36947;&#38431;&#21015;&#26159;&#21542;&#26159;&#25345;&#20037;&#30340;&#38431;&#21015;&#31561;&#31561;&#65289;&#12290;</p></li><li><p>&#26242;&#20572;&#21644;&#24674;&#22797;&#38431;&#21015;</p><p><tt class="literal">QueueControl</tt>&#21487;&#29992;&#26469;&#26242;&#20572;&#19982;&#24674;&#22797;&#38431;&#21015;&#12290;&#22914;&#26524;&#19968;&#20010;&#38431;&#21015;&#34987;&#26242;&#20572;&#65292;&#23427;
                     &#34429;&#28982;&#21487;&#20197;&#32487;&#32493;&#25509;&#25910;&#28040;&#24687;&#20294;&#26159;&#19981;&#20256;&#36882;&#28040;&#24687;&#65307;&#24403;&#34987;&#24674;&#22797;&#26102;&#65292;&#38431;&#21015;&#21448;&#20250;&#24320;&#22987;&#20256;&#36882;&#28040;&#24687;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e5550"></a>30.1.1.4.&nbsp;&#20854;&#23427;&#26680;&#24515;&#36164;&#28304;&#30340;&#31649;&#29702;</h4></div></div><div></div></div><p>HornetQ&#20801;&#35768;&#29992;&#25143;&#21551;&#21160;&#25110;&#20572;&#27490;&#20854;&#36828;&#31243;&#36164;&#28304;&#65288;&#25509;&#25910;&#22120;&#65292;&#36716;&#21457;&#22120;&#65292;&#26725;&#65292;&#31561;&#31561;&#65289;&#12290;&#36825;&#26679;&#21487;&#20197;&#20351;&#26381;&#21153;&#22120;&#26242;&#20572;&#24037;&#20316;
               &#32780;&#19981;&#38656;&#35201;&#23436;&#20840;&#20572;&#27490;&#26381;&#21153;&#22120;&#65288;&#27604;&#22914;&#21487;&#20197;&#20020;&#26102;&#23545;&#26381;&#21153;&#22120;&#36827;&#34892;&#19968;&#20123;&#31163;&#32447;&#25805;&#20316;&#65292;&#20687;&#23545;&#19968;&#20123;&#20107;&#21153;&#30340;&#22788;&#29702;&#65289;&#12290;&#36825;&#20123;&#36164;&#28304;&#26377;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#25509;&#25910;&#22120;</p><p>&#29992;<tt class="literal">AcceptorControl</tt>&#31867;&#65288;ObjectName <tt class="literal">org.hornetq:module=Core,type=Acceptor,name="&lt;&#25509;&#25910;&#22120;&#21517;
                        &gt;"</tt> &#25110;&#36164;&#28304;&#21517; <tt class="literal">core.acceptor.&lt;&#22320;&#22336;&#21517;
                        &gt;</tt>&#65289;&#30340;<tt class="literal">start()</tt>&#26041;&#27861;&#21551;&#21160;&#65292;&#29992;<tt class="literal">
                        stop()</tt>&#26041;&#27861;&#20572;&#27490;&#12290;&#25509;&#25910;&#22120;&#30340;&#21442;&#25968;&#21487;&#20197;&#36890;&#36807;<tt class="literal">AcceptorControl</tt>
                        &#30340;&#23646;&#24615;&#33719;&#24471;&#12290;&#65288;&#21442;&#35265; <a href="configuring-transports.html#configuring-transports.acceptors" title="16.1.&nbsp;&#25509;&#25910;&#22120;&#65288;Acceptor&#65289;">Section&nbsp;16.1, &#8220;&#25509;&#25910;&#22120;&#65288;Acceptor&#65289;&#8221;</a>&#65289;&#12290;</p></li><li><p>&#36716;&#21457;&#22120;</p><p>&#29992;<tt class="literal">DivertControl</tt>&#65288;ObjectName&#26159; <tt class="literal">org.hornetq:module=Core,type=Divert,name=&lt;&#36716;&#21457;&#22120;&#21517;&gt;</tt>
                        &#25110;&#36164;&#28304;&#21517;<tt class="literal">core.divert.&lt;&#36716;&#21457;&#22120;&gt;</tt>&#65289;&#31867;&#30340;
                        <tt class="literal">start()</tt>&#26041;&#27861;&#21487;&#20197;&#21551;&#21160;&#65292;&#29992;<tt class="literal">stop()</tt>&#26041;&#27861;&#21487;&#20197;&#20572;&#27490;&#12290;
                        &#36890;&#36807;<tt class="literal">DivertControl</tt>&#36824;&#21487;&#20197;&#33719;&#24471;&#36716;&#21457;&#22120;&#30340;&#21508;&#31181;&#23646;&#24615;&#12290;&#65288;&#21442;&#35265; <a href="diverts.html" title="Chapter&nbsp;35.&nbsp;&#28040;&#24687;&#30340;&#36716;&#21457;&#65288;divert)&#19982;&#20998;&#27969;">Chapter&nbsp;35, <i>&#28040;&#24687;&#30340;&#36716;&#21457;&#65288;divert)&#19982;&#20998;&#27969;</i></a>&#65289;&#12290;</p></li><li><p>&#26725;</p><p>&#26725;&#21487;&#20197;&#36890;&#36807;<tt class="literal">BridgeControl</tt>&#31867;&#65288;ObjectName <tt class="literal">org.hornetq:module=Core,type=Bridge,name="&lt;&#26725;&#30340;&#21517;&#23383;
                        &gt;"</tt> &#25110;&#36164;&#28304;&#21517; <tt class="literal">core.bridge.&lt;&#26725;&#30340;&#21517;&#23383;
                        &gt;</tt>&#65289;&#30340;<tt class="literal">start()</tt>
                        &#26041;&#27861;&#21551;&#21160;&#65292;&#29992;<tt class="literal">stop()</tt>&#26041;&#27861;&#20572;&#27490;&#12290;&#23427;&#30340;&#23646;&#24615;&#21487;&#20197;&#36890;&#36807;
                        <tt class="literal">BridgeControl</tt>&#30340;&#23646;&#24615;&#33719;&#24471;&#65288;&#21442;&#35265;
                        <a href="core-bridges.html" title="Chapter&nbsp;36.&nbsp;&#26680;&#24515;&#26725;">Chapter&nbsp;36, <i>&#26680;&#24515;&#26725;</i></a>&#65289;&#12290;</p></li><li><p>&#24191;&#25773;&#32452;</p><p>&#24191;&#25773;&#32452;&#21487;&#20197;&#36890;&#36807;<tt class="literal">BroadcastGroupControl</tt>&#31867;&#65288;ObjectName <tt class="literal">org.hornetq:module=Core,type=BroadcastGroup,name="&lt;&#24191;&#25773;&#32452;&#21517;
                        &gt;"</tt> &#25110;&#32773;&#36164;&#28304;&#21517; <tt class="literal">core.broadcastgroup.&lt;&#24191;&#25773;&#32452;&#21517;&gt;</tt>)&#30340;<tt class="literal">
                        start()</tt>&#26041;&#27861;&#21551;&#21160;&#65292;&#29992;<tt class="literal">stop()</tt>&#26041;&#27861;&#20572;&#27490;&#12290;
                        &#23427;&#30340;&#23646;&#24615;&#20063;&#21487;&#20197;&#36890;&#36807;<tt class="literal">BroadcastGroupControl</tt>&#30340;&#23646;&#24615;&#33719;&#24471;&#65288;&#21442;&#35265;<a href="clusters.html#clusters.broadcast-groups" title="38.2.1.&nbsp;&#24191;&#25773;&#32452;">Section&nbsp;38.2.1, &#8220;&#24191;&#25773;&#32452;&#8221;</a>&#65289;&#12290;</p></li><li><p>&#21457;&#29616;&#32452;</p><p>&#21457;&#29616;&#32452;&#21487;&#20197;&#36890;&#36807;<tt class="literal">DiscoveryGroupControl</tt>&#31867;
                        &#65288;ObjectName <tt class="literal">org.hornetq:module=Core,type=DiscoveryGroup,
                        name="&lt;&#21457;&#29616;&#32452;&#21517;&gt;"</tt> &#25110;&#36164;&#28304;&#21517;<tt class="literal">core.discovery.&lt;
                        &#21457;&#29616;&#32452;&#21517;&gt;</tt>&#65289;&#30340;
                        <tt class="literal">start()</tt>&#26041;&#27861;&#21551;&#21160;&#65292;&#29992;<tt class="literal">stop()</tt>&#26041;&#27861;&#20572;&#27490;&#12290;
                        &#23427;&#30340;&#21442;&#25968;&#21487;&#20197;&#36890;&#36807;<tt class="literal">DiscoveryGroupControl</tt>&#30340;&#23646;&#24615;&#33719;&#24471;&#65288;&#21442;&#35265;
                        <a href="clusters.html#clusters.discovery-groups" title="38.2.2.&nbsp;&#21457;&#29616;&#32452;">Section&nbsp;38.2.2, &#8220;&#21457;&#29616;&#32452;&#8221;</a>&#65289;&#12290;</p></li><li><p>&#38598;&#32676;&#36830;&#25509;</p><p>&#38598;&#32676;&#36830;&#25509;&#21487;&#20197;&#36890;&#36807;<tt class="literal">ClusterConnectionControl</tt>&#31867;&#65288;
                        ObjectName <tt class="literal">org.hornetq:module=Core,type=ClusterConnection,name="&lt;&#38598;&#32676;&#36830;&#25509;&#21517;
                        &gt;"</tt> &#25110;&#36164;&#28304;&#21517; <tt class="literal">core.clusterconnection.&lt;&#38598;&#32676;&#36830;&#25509;&#21517;&gt;</tt>&#65289;&#30340;<tt class="literal">
                        start()</tt>&#26041;&#27861;&#21551;&#21160;&#65292;&#29992;<tt class="literal">stop()</tt>&#26041;&#27861;&#20572;&#27490;&#12290;
                        &#23427;&#30340;&#21442;&#25968;&#21487;&#20197;&#36890;&#36807;<tt class="literal">ClusterConnectionControl</tt>&#30340;&#23646;&#24615;&#26469;&#33719;&#24471;&#65288;&#21442;&#35265;
                        <a href="clusters.html#clusters.cluster-connections" title="38.3.1.&nbsp;&#37197;&#32622;&#38598;&#32676;&#36830;&#25509;">Section&nbsp;38.3.1, &#8220;&#37197;&#32622;&#38598;&#32676;&#36830;&#25509;&#8221;</a>&#65289;&#12290;</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e5706"></a>30.1.2.&nbsp;JMS&#31649;&#29702;&#25509;&#21475;</h3></div></div><div></div></div><p>HornetQ&#23450;&#20041;&#20102;&#19968;&#22871;JMS&#31649;&#29702;&#25509;&#21475;&#26469;&#31649;&#29702;JMS&#30340;<span class="emphasis"><em>&#21487;&#31649;&#29702;&#30340;&#23545;&#35937;</em></span> 
              &#65288;&#20363;&#22914;JMS&#38431;&#21015;&#65292;&#35805;&#39064;&#21450;&#36830;&#25509;&#24037;&#21378;&#65289;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e5714"></a>30.1.2.1.&nbsp;JMS&#26381;&#21153;&#22120;&#31649;&#29702;</h4></div></div><div></div></div><p><tt class="literal">JMSServerControl</tt>&#31867;&#65288;ObjectName <tt class="literal">org.hornetq:module=JMS,type=Server</tt> &#25110;&#36164;&#28304;&#21517;<tt class="literal">jms.server</tt>&#65289;&#29992;&#26469;&#21019;&#24314;JMS&#36164;&#28304;&#65288;&#36830;&#25509;&#24037;&#21378;&#21644;&#30446;&#26631;&#65289;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>&#21015;&#34920;&#12289;&#21019;&#24314;&#12289;&#21024;&#38500;&#36830;&#25509;&#24037;&#21378;</p><p>&#20351;&#29992;<tt class="literal">getConnectionFactoryNames()</tt> &#26041;&#27861;&#21487;&#20197;&#21015;&#20986;&#37096;&#32626;&#30340;&#36830;&#25509;&#24037;&#21378;&#30340;
                        &#21517;&#23383;&#12290;</p><p>&#29992;<tt class="literal">createConnectionFactory()</tt>&#26041;&#27861;&#21644;<tt class="literal">destroyConnectionFactory()</tt>&#26041;&#27861;&#33021;&#21019;&#24314;&#21644;&#21024;&#38500;JMS&#36830;&#25509;&#24037;&#21378;&#12290;
                     &#36825;&#20123;&#36830;&#25509;&#24037;&#21378;&#37117;&#19982;JNDI&#32465;&#23450;&#20197;&#20415;&#20110;&#23458;&#25143;&#31471;&#26469;&#26597;&#25214;&#12290;&#22914;&#26524;&#26159;&#22312;&#22270;&#24418;&#20171;&#38754;&#19979;&#21019;&#24314;&#36830;&#25509;&#24037;&#21378;&#65292;&#22312;&#24191;&#26412;&#26694;&#20869;&#36755;&#20837;
                     &#26377;&#20851;&#30340;&#20256;&#36755;&#21442;&#25968;&#26102;&#21487;&#20351;&#29992;&#19968;&#32452;&#29992;&#36887;&#21495;&#38548;&#24320;&#30340;&#38190;&#65293;&#20540;&#23545;&#65288;&#20363;&#22914;<tt class="literal">key1=10, key2="value", key3=false</tt>&#65289;&#12290;
                     &#22914;&#26524;&#38656;&#35201;&#23450;&#20041;&#22810;&#20010;&#20256;&#36755;&#65292;&#20320;&#38656;&#35201;&#23558;&#27599;&#20010;&#20256;&#36755;&#30340;&#21442;&#25968;&#23545;&#29992;&#22823;&#25324;&#21495;&#25324;&#36215;&#26469;&#65292;&#20363;&#22914;<tt class="literal">{key=10}, {key=20}</tt>&#12290;
                     &#31532;&#19968;&#20010;<tt class="literal">key</tt>&#23646;&#20110;&#31532;&#19968;&#20010;&#20256;&#36755;&#37197;&#32622;&#65292;&#31532;&#20108;&#20010;<tt class="literal">key</tt>&#23646;&#20110;&#31532;&#20108;&#20010;&#20256;&#36755;&#37197;&#32622;&#12290;
                     &#65288;&#26377;&#20851;&#20256;&#36755;&#30340;&#21508;&#31181;&#21442;&#25968;&#21442;&#35265;<a href="configuring-transports.html" title="Chapter&nbsp;16.&nbsp;&#20256;&#36755;&#23618;&#30340;&#37197;&#32622;">Chapter&nbsp;16, <i>&#20256;&#36755;&#23618;&#30340;&#37197;&#32622;</i></a>&#65289;&#12290;</p></li><li><p>&#21015;&#34920;&#12289;&#21019;&#24314;&#19982;&#21024;&#38500;&#38431;&#21015;</p><p><tt class="literal">getQueueNames()</tt>&#26041;&#27861;&#21487;&#20197;&#33719;&#24471;&#37096;&#32626;&#30340;JMS&#38431;&#21015;&#30340;&#21517;&#23383;&#21015;&#34920;&#12290;</p><p>JMS&#38431;&#21015;&#21487;&#20197;&#29992;<tt class="literal">createQueue()</tt>&#26041;&#27861;&#21019;&#24314;&#65292;&#29992;<tt class="literal">destroyQueue()</tt>&#26041;&#27861;&#21024;&#38500;&#12290;
                     &#21019;&#24314;&#30340;&#38431;&#21015;&#37117;&#32465;&#23450;&#21040;JNDI&#20197;&#20415;JMS&#23458;&#25143;&#31471;&#21487;&#20197;&#26597;&#25214;&#12290;</p></li><li><p>&#21015;&#34920;&#12289;&#21019;&#24314;&#19982;&#21024;&#38500;&#35805;&#39064;&#65288;topic&#65289;</p><p><tt class="literal">getTopicNames()</tt>&#26041;&#27861;&#21487;&#20197;&#33719;&#24471;&#37096;&#32626;&#30340;JMS&#35805;&#39064;&#21517;&#23383;&#12290;</p><p>JMS&#35805;&#39064;&#21487;&#20197;&#29992;<tt class="literal">createTopic()</tt>&#26041;&#27861;&#26469;&#21019;&#24314;&#65292;&#29992;<tt class="literal">destroyTopic()</tt>&#26041;&#27861;&#26469;&#21024;&#38500;&#12290;
                     &#21019;&#24314;&#30340;&#35805;&#39064;&#37117;&#32465;&#23450;&#21040;JNDI&#20197;&#20415;&#23458;&#25143;&#31471;&#26597;&#25214;&#12290;</p></li><li><p>&#36828;&#31243;&#36830;&#25509;&#30340;&#21015;&#34920;&#19982;&#20851;&#38381;</p><p>&#29992;<tt class="literal">listRemoteAddresses()</tt>&#26041;&#27861;&#21487;&#20197;&#33719;&#24471;JMS&#23458;&#25143;&#31471;&#30340;&#36828;&#31243;&#22320;&#22336;&#12290;
                     &#36824;&#21487;&#20197;&#29992;<tt class="literal">closeConnectionsForAddress()</tt>&#26041;&#27861;&#20851;&#38381;&#19982;&#26576;&#20010;&#36828;&#31243;&#22320;&#22336;&#30456;&#20851;&#32852;&#30340;&#36830;&#25509;&#12290;</p><p>&#21478;&#22806;&#65292;<tt class="literal">listConnectionIDs()</tt>&#26041;&#27861;&#21487;&#20197;&#21015;&#20986;&#36830;&#25509;&#30340;ID&#65292;
                     &#32780;<tt class="literal">listSessions()</tt>&#26041;&#27861;&#21487;&#20197;&#21015;&#20986;&#19968;&#20010;&#32473;&#23450;&#30340;&#36830;&#25509;ID&#30340;&#25152;&#26377;&#20250;&#35805;&#65288;session&#65289;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e5807"></a>30.1.2.2.&nbsp;JMS&#36830;&#25509;&#24037;&#21378;&#30340;&#31649;&#29702;</h4></div></div><div></div></div><p>&#20351;&#29992;&#31867;&#65288;ObjectName <tt class="literal">org.hornetq:module=JMS,type=ConnectionFactory,
                  name="&lt;&#36830;&#25509;&#24037;&#21378;&#21517;&gt;"</tt>&#25110;&#32773;&#36164;&#28304;&#21517;<tt class="literal">jms.connectionfactory.&lt;
                  &#36830;&#25509;&#24037;&#21378;&#21517;&gt;</tt>&#65289;&#21487;&#20197;&#31649;&#29702;JMS&#30340;&#36830;&#25509;&#24037;&#21378;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>&#33719;&#24471;&#36830;&#25509;&#24037;&#21378;&#30340;&#23646;&#24615;</p><p><tt class="literal">ConnectionFactoryControl</tt>&#31867;&#21487;&#20197;&#29992;&#26469;&#33719;&#24471;&#36830;&#25509;&#24037;&#21378;&#30340;&#23646;&#24615;&#65288;
                     &#20363;&#22914;<tt class="literal">getConsumerWindowSize()</tt>&#26041;&#27861;&#21487;&#20197;&#33719;&#24471;&#25509;&#25910;&#32773;&#27969;&#25511;&#21046;&#30340;&#31383;&#21475;&#22823;&#23567;&#65292;
                     <tt class="literal">isBlockOnNonDurableSend()</tt>&#26041;&#27861;&#21487;&#20197;&#30693;&#36947;&#20174;&#36825;&#20010;&#36830;&#25509;&#24037;&#21378;&#21019;&#24314;&#30340;&#21457;&#36865;
                     &#32773;&#26159;&#21542;&#37319;&#29992;&#38459;&#22622;&#26041;&#24335;&#21457;&#36865;&#38750;&#25345;&#20037;&#30340;&#28040;&#24687;&#65292;&#31561;&#31561;&#65289;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e5832"></a>30.1.2.3.&nbsp;JMS&#38431;&#21015;&#31649;&#29702;</h4></div></div><div></div></div><p>&#20351;&#29992;<tt class="literal">JMSQueueControl</tt>&#31867;&#65288;ObjectName <tt class="literal">org.hornetq:module=JMS,
                  type=Queue,name="&lt;&#38431;&#21015;&#21517;&gt;"</tt>&#25110;&#36164;&#28304;&#21517; <tt class="literal">jms.queue.&lt;&#38431;&#21015;&#21517;
                  &gt;</tt>&#21487;&#20197;&#31649;&#29702;JMS&#38431;&#21015;&#12290;</p><p><span class="emphasis"><em>JMS&#38431;&#21015;&#30340;&#31649;&#29702;&#25805;&#20316;&#19982;&#26680;&#24515;&#38431;&#21015;&#30340;&#31649;&#29702;&#21313;&#20998;&#30456;&#20284;&#12290;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p>&#36807;&#26399;&#65292;&#21457;&#36865;&#21040;&#27515;&#20449;&#22320;&#22336;&#21644;&#31227;&#21160;&#28040;&#24687;</p><p>&#21487;&#20197;&#20351;&#29992;<tt class="literal">expireMessages()</tt>&#26041;&#27861;&#23558;&#38431;&#21015;&#20013;&#30340;&#28040;&#24687;&#35774;&#25104;&#36807;&#26399;&#28040;&#24687;&#12290;
                        &#22914;&#26524;&#37197;&#32622;&#26377;&#36807;&#26399;&#22320;&#22336;&#65292;&#28040;&#24687;&#23601;&#20250;&#34987;&#21457;&#21040;&#36807;&#26399;&#22320;&#22336;&#12290;&#36807;&#26399;&#22320;&#22336;&#21487;&#20197;&#29992;
                     <tt class="literal">setExpiryAddress()</tt>&#26041;&#27861;&#26469;&#35774;&#23450;&#12290;</p><p>&#20351;&#29992;<tt class="literal">sendMessagesToDeadLetterAddress()</tt>&#26041;&#27861;&#21487;&#20197;&#23558;&#28040;&#24687;&#21457;&#36865;&#21040;&#27515;&#20449;&#22320;&#22336;&#12290;
                     &#23427;&#36820;&#22238;&#21457;&#36865;&#21040;&#27515;&#20449;&#22320;&#22336;&#28040;&#24687;&#30340;&#25968;&#37327;&#12290;&#22914;&#26524;&#27809;&#26377;&#35774;&#23450;&#27515;&#20449;&#22320;&#22336;&#65292;&#37027;&#20040;&#28040;&#24687;&#20250;&#34987;&#20002;&#24323;&#12290;&#20351;&#29992;
                     <tt class="literal">setDeadLetterAddress()</tt>&#26041;&#27861;&#21487;&#20197;&#35774;&#23450;&#38431;&#21015;&#30340;&#27515;&#20449;&#22320;&#22336;&#12290;</p><p><tt class="literal">moveMessages()</tt>&#26041;&#27861;&#23558;&#28040;&#24687;&#20174;&#19968;&#20010;&#38431;&#21015;&#31227;&#21160;&#21040;&#21478;&#19968;&#20010;&#38431;&#21015;&#12290;</p></li><li><p>&#21015;&#34920;&#19982;&#21024;&#38500;&#28040;&#24687;</p><p>&#20351;&#29992;<tt class="literal">listMessages()</tt>&#26041;&#27861;&#21487;&#20197;&#21015;&#20986;&#19968;&#20010;&#38431;&#21015;&#20013;&#30340;&#25152;&#26377;&#28040;&#24687;&#12290;&#23427;&#36820;&#22238;&#30340;&#26159;&#19968;&#20010;
                        Map&#30340;&#25968;&#32452;&#12290;&#27599;&#19968;&#20010;Map&#23545;&#24212;&#19968;&#20010;&#28040;&#24687;&#12290;</p><p>&#20351;&#29992;<tt class="literal">removeMessages()</tt>&#26041;&#27861;&#21487;&#20197;&#20174;&#38431;&#21015;&#20013;&#21024;&#38500;&#28040;&#24687;&#12290;&#22914;&#26524;&#24102;&#30340;&#21442;&#25968;&#26159;&#28040;&#24687;ID&#65292;
                        &#36820;&#22238;&#30340;&#26159;&#19968;&#20010;&#24067;&#23572;&#24120;&#26159;&#65307;&#22914;&#26524;&#24102;&#30340;&#21442;&#25968;&#26159;&#19968;&#20010;&#36807;&#28388;&#22120;&#65292;&#21017;&#36820;&#22238;&#21024;&#38500;&#30340;&#28040;&#24687;&#25968;&#12290;&#24102;&#26377;&#36807;&#28388;&#22120;&#21442;&#25968;&#30340;<tt class="literal">removeMessages()</tt>&#26041;&#27861;&#21482;&#21024;&#38500;&#36807;&#28388;&#22120;&#36873;&#25321;&#30340;&#28040;&#24687;&#12290;&#22914;&#26524;&#20123;&#21442;&#25968;&#26159;&#19968;&#20010;&#31354;&#23383;&#31526;&#20018;&#65292;&#37027;&#20040;&#23558;
                        &#21024;&#38500;&#25152;&#26377;&#30340;&#28040;&#24687;&#12290;</p></li><li><p>&#28040;&#24687;&#35745;&#25968;</p><p>&#20351;&#29992;<tt class="literal">getMessageCount()</tt>&#26041;&#27861;&#21487;&#20197;&#24471;&#21040;&#38431;&#21015;&#20013;&#30340;&#28040;&#24687;&#25968;&#12290;&#21478;&#22806;&#65292;&#26041;&#27861;
                        <tt class="literal">countMessages()</tt>&#21487;&#20197;&#24471;&#21040;&#38431;&#21015;&#20013;&#25152;&#26377;&#19982;<span class="emphasis"><em>&#36807;&#28388;&#22120;</em></span>&#30456;&#21305;&#37197;&#30340;&#28040;&#24687;&#25968;&#12290;</p></li><li><p>&#20462;&#25913;&#28040;&#24687;&#30340;&#20248;&#20808;&#32423;</p><p>&#28040;&#24687;&#30340;&#20248;&#20808;&#32423;&#21487;&#20197;&#29992;<tt class="literal">changeMessagesPriority()</tt>&#26041;&#27861;&#20462;&#25913;&#12290;&#22914;&#26524;&#26159;&#24102;&#19968;&#20010;&#28040;
                        &#24687;ID&#21442;&#25968;&#65292;&#23427;&#36820;&#22238;&#30340;&#26159;&#19968;&#20010;&#24067;&#23572;&#24120;&#37327;&#65307;&#22914;&#26524;&#26159;&#24102;&#19968;&#20010;&#36807;&#28388;&#22120;&#21442;&#25968;&#65292;&#21017;&#23427;&#36820;&#22238;&#30340;&#26159;&#20248;&#20808;&#32423;&#26356;&#26032;&#20102;&#30340;&#28040;&#24687;&#25968;&#12290;</p></li><li><p>&#28040;&#24687;&#35745;&#25968;&#22120;</p><p><tt class="literal">listMessageCounter()</tt>&#26041;&#27861;&#21644;<tt class="literal">listMessageCounterHistory()</tt>
                        &#26041;&#27861;&#21487;&#20197;&#29992;&#26469;&#21015;&#20986;&#38431;&#21015;&#20013;&#30340;&#25152;&#26377;&#28040;&#24687;&#35745;&#25968;&#22120;&#12290;&#65288;&#21442;&#35265; <a href="management.html#management.message-counters" title="30.6.&nbsp;&#28040;&#24687;&#35745;&#25968;&#22120;">Section&nbsp;30.6, &#8220;&#28040;&#24687;&#35745;&#25968;&#22120;&#8221;</a>&#65289;&#12290;</p></li><li><p>&#33719;&#21462;&#38431;&#21015;&#30340;&#23646;&#24615;</p><p><tt class="literal">JMSQueueControl</tt>&#31867;&#21487;&#20197;&#29992;&#26469;&#33719;&#21462;JMS&#38431;&#21015;&#30340;&#35774;&#32622;&#21442;&#25968;&#65288;&#20363;&#22914;&#26041;&#27861;<tt class="literal">isTemporary()</tt>
                     &#21487;&#20197;&#21028;&#26029;&#38431;&#21015;&#26159;&#21542;&#20026;&#20020;&#26102;&#30340;&#65292;&#26041;&#27861;<tt class="literal">isDurable()</tt>&#21487;&#20197;&#21028;&#26029;&#38431;&#21015;&#26159;&#21542;&#20026;&#25345;&#20037;&#30340;&#31561;&#31561;&#65289;&#12290;</p></li><li><p>&#38431;&#21015;&#30340;&#26242;&#20572;&#19982;&#24674;&#22797;</p><p><tt class="literal">JMSQueueControl</tt>&#21487;&#20197;&#26242;&#20572;&#19968;&#20010;&#38431;&#21015;&#25110;&#24674;&#22797;&#19968;&#20010;&#38431;&#21015;&#12290;
                     &#22914;&#26524;&#19968;&#20010;&#38431;&#21015;&#34987;&#26242;&#20572;&#65292;&#23427;&#34429;&#28982;&#21487;&#20197;&#32487;&#32493;&#25509;&#25910;&#28040;&#24687;&#20294;&#26159;&#19981;&#20256;&#36882;&#28040;&#24687;&#65307;
                     &#24403;&#34987;&#24674;&#22797;&#26102;&#65292;&#38431;&#21015;&#21448;&#20250;&#24320;&#22987;&#20256;&#36882;&#28040;&#24687;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e5943"></a>30.1.2.4.&nbsp;JMS&#35805;&#39064;&#65288;Topic&#65289;&#30340;&#31649;&#29702;</h4></div></div><div></div></div><p>JMS&#35805;&#39064;&#30340;&#31649;&#29702;&#26159;&#36890;&#36807;<tt class="literal">TopicControl</tt>&#31867;&#65288;
               the ObjectName <tt class="literal">org.hornetq:module=JMS,type=Topic,name="&lt;&#35805;&#39064;&#21517;&gt;"</tt>
               &#25110;&#36164;&#28304;&#21517; <tt class="literal">jms.topic.&lt;&#35805;&#39064;&#21517;&gt;</tt>&#65289;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>&#35746;&#38405;&#21644;&#28040;&#24687;&#30340;&#21015;&#34920;</p><p><tt class="literal">listAllSubscriptions()</tt>&#12289;<tt class="literal">listDurableSubscriptions()</tt>&#12289; <tt class="literal">listNonDurableSubscriptions()</tt>&#26041;&#27861;&#21487;&#20197;&#21015;&#20986;&#35805;&#39064;&#30340;&#19981;&#21516;&#35746;&#38405;&#12290;
                     &#36825;&#20123;&#26041;&#27861;&#37117;&#36820;&#22238;<tt class="literal">Object</tt>&#25968;&#32452;&#65292;&#34920;&#31034;&#35746;&#38405;&#30340;&#32454;&#33410;&#65288;&#22914;&#35746;&#38405;&#21517;&#65292;
                     &#23458;&#25143;ID&#65292;&#25345;&#20037;&#24615;&#65292;&#28040;&#24687;&#35745;&#25968;&#31561;&#65289;&#12290;&#29992;<tt class="literal">listMessagesForSubscription()</tt>&#26041;&#27861;&#21487;&#20197;&#21015;&#20986;&#19968;&#20010;&#35746;&#38405;&#19978;&#30340;JMS&#28040;&#24687;&#12290;</p></li><li><p>&#21024;&#38500;&#35746;&#38405;</p><p>&#25345;&#20037;&#24615;&#35746;&#38405;&#21487;&#20197;&#20351;&#29992;<tt class="literal">dropDurableSubscription()</tt>&#26041;&#27861;&#26469;&#21024;&#38500;&#12290;</p></li><li><p>&#35746;&#38405;&#28040;&#24687;&#35745;&#25968;</p><p><tt class="literal">countMessagesForSubscription()</tt>&#26041;&#27861;&#21487;&#20197;&#24471;&#21040;&#19968;&#20010;&#35746;&#38405;&#19978;&#38754;&#25152;&#25345;&#26377;
                     &#30340;&#28040;&#24687;&#25968;&#65288;&#36824;&#21487;&#24102;&#19968;&#20010;&#28040;&#24687;&#36873;&#25321;&#22120;&#26469;&#24471;&#20986;&#26377;&#22810;&#23569;&#28040;&#24687;&#19982;&#20043;&#21305;&#37197;&#65289;&#12290;</p></li></ul></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="management.jmx"></a>30.2.&nbsp;&#20351;&#29992;JMX</h2></div></div><div></div></div><p>HornetQ&#25552;&#20379;&#20102;<a href="http://java.sun.com/javase/technologies/core/mntr-mgmt/javamanagement/" target="_top">JMX</a>&#12290;</p><p>HornetQ&#36890;&#36807;MBean&#30340;&#25509;&#21475;&#26292;&#38706;&#20854;JMX&#31649;&#29702;&#25805;&#20316;&#12290;&#23427;&#23558;&#33258;&#24049;&#30340;&#36164;&#28304;&#27880;&#20876;&#21040;<tt class="literal">org.hornetq</tt>&#22495;&#12290;</p><p>&#27604;&#22914;&#65292;&#29992;&#26469;&#31649;&#29702;&#19968;&#20010;&#21517;&#20026;<tt class="literal">exampleQueue</tt>JMS&#38431;&#21015;&#30340;<tt class="literal">ObjectName</tt>&#26159;&#65306;</p><pre class="programlisting">
   org.hornetq:module=JMS,type=Queue,name="exampleQueue"   
      </pre><p>MBean&#20026;&#65306;</p><pre class="programlisting">
   org.hornetq.api.jms.management.JMSQueueControl   
      </pre><p>MBean&#30340;<tt class="literal">ObjectName</tt>&#29992; <tt class="literal">org.hornetq.api.core.management.ObjectNameBuilder</tt>&#26469;&#20135;&#29983;&#20986;&#26469;&#30340;&#12290;&#20320;&#20063;&#21487;&#20197;&#20351;&#29992;<tt class="literal">jconsole</tt>&#26469;&#26597;&#25214;&#20320;&#24819;&#35201;&#30340;MBean&#30340;<tt class="literal">ObjectName</tt>&#12290;</p><p>&#20351;&#29992;JMX&#26469;&#31649;&#29702;HornetQ&#19982;&#29992;JMX&#31649;&#29702;&#20854;&#23427;Java&#24212;&#29992;&#31243;&#24207;&#27809;&#26377;&#20160;&#20040;&#19981;&#21516;&#12290;&#20320;&#21487;&#20197;&#20351;&#29992;&#21453;&#23556;&#25110;&#32773;&#21019;&#24314;MBean&#20195;&#29702;&#30340;&#26041;&#27861;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="management.jmx.configuration"></a>30.2.1.&nbsp;&#37197;&#32622;JMX</h3></div></div><div></div></div><p>&#40664;&#35748;&#24773;&#20917;&#19979;HornetQ&#30340;JMX&#26159;&#25171;&#24320;&#30340;&#12290;&#23558;<tt class="literal">hornetq-configuration.xml</tt>&#25991;&#20214;&#20013;&#30340;<tt class="literal">jmx-management-enabled</tt>&#35774;&#32622;&#20026;<tt class="literal">false</tt>&#23601;&#21487;&#20197;&#20851;&#38381;JMX&#65306;</p><pre class="programlisting">
&lt;!-- false to disable JMX management for HornetQ --&gt;
&lt;jmx-management-enabled&gt;false&lt;/jmx-management-enabled&gt;            
         </pre><p>&#22914;&#26524;JMX&#21151;&#33021;&#26159;&#25171;&#24320;&#30340;&#65292;&#21017;&#20351;&#29992;<tt class="literal">jconsole</tt>&#21487;&#20197;&#31649;&#29702;&#26412;&#22320;&#30340;HornetQ&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>&#20986;&#20110;&#23433;&#20840;&#32771;&#34385;&#65292;&#40664;&#35748;&#24773;&#20917;&#19979;JMX&#36828;&#31243;&#36830;&#25509;&#26159;&#20851;&#38381;&#30340;&#12290;&#21442;&#35265;<a href="http://java.sun.com/j2se/1.5.0/docs/guide/management/agent.html#remote" target="_top">Java&#31649;&#29702;&#25351;&#21335;</a>&#26469;&#37197;&#32622;&#26381;&#21153;&#22120;&#30340;&#36828;&#31243;&#31649;&#29702;&#65288;&#31995;&#32479;&#21464;&#37327;&#24517;&#39035;&#22312;<tt class="literal">run.sh</tt>&#25110;<tt class="literal">run.bat</tt>&#20013;&#23450;&#20041;&#65289;&#12290;</p></div><p>HornetQ&#40664;&#35748;&#20351;&#29992;JMX&#22495;&#21517;"org.hornetq"&#12290;&#22914;&#26524;&#35201;&#29992;&#19968;&#20010;MBeanServer&#31649;&#29702;&#22810;&#20010;HornetQ&#26381;&#21153;&#22120;&#65292;&#21487;&#20197;&#23558;&#27599;&#20010;HornetQ
            &#26381;&#21153;&#22120;&#37197;&#32622;&#25104;&#19981;&#21516;&#30340;JMX&#22495;&#12290;&#26041;&#27861;&#23601;&#26159;&#22312;<tt class="literal">hornetq-configuration.xml</tt>&#25991;&#20214;&#20013;&#35774;&#32622;<tt class="literal">jmx-domain</tt>&#65306;</p><pre class="programlisting">
&lt;!-- use a specific JMX domain for HornetQ MBeans --&gt;
&lt;jmx-domain&gt;my.org.hornetq&lt;/jmx-domain&gt;            
         </pre><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e6078"></a>30.2.1.1.&nbsp;MBeanServer&#30340;&#37197;&#32622;</h4></div></div><div></div></div><p>HornetQ&#22312;&#29420;&#31435;&#36816;&#34892;&#26102;&#20351;&#29992;Java&#34394;&#25311;&#26426;&#30340;<tt class="literal">Platform MBeanServer</tt>&#26469;&#27880;&#20876;&#20854;MBean&#12290;&#36825;&#22312;JBoss Microcontainer&#65288;&#24494;&#23481;&#22120;&#65289;&#30340;bean
               &#25991;&#20214;&#20013;&#36827;&#34892;&#37197;&#32622;&#65288;&#21442;&#35265;<a href="using-server.html#server.microcontainer.configuration" title="6.7.&nbsp;JBoss Microcontainer Beans &#25991;&#20214;">Section&nbsp;6.7, &#8220;JBoss Microcontainer Beans &#25991;&#20214;&#8221;</a>&#65289;&#65306;</p><pre class="programlisting">&lt;!-- MBeanServer --&gt;
&lt;bean name="MBeanServer" class="javax.management.MBeanServer"&gt;
   &lt;constructor factoryClass="java.lang.management.ManagementFactory"
                         factoryMethod="getPlatformMBeanServer" /&gt;
&lt;/bean&gt;            
            </pre><p>&#24403;&#19982;AS 5&#65291;&#38598;&#25104;&#36816;&#34892;&#26102;&#65292;&#23427;&#20351;&#29992;&#24212;&#29992;&#26381;&#21153;&#22120;&#33258;&#24049;&#30340;MBean&#26381;&#21153;&#65292;&#36825;&#26679;&#23601;&#21487;&#20197;&#20351;&#29992;&#23427;&#30340;jmx-console&#65306;</p><pre class="programlisting">&lt;!-- MBeanServer --&gt;
&lt;bean name="MBeanServer" class="javax.management.MBeanServer"&gt;
   &lt;constructor factoryClass="org.jboss.mx.util.MBeanServerLocator"
                         factoryMethod="locateJBoss" /&gt;
&lt;/bean&gt;            
            </pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6094"></a>30.2.2.&nbsp;&#20363;&#23376;</h3></div></div><div></div></div><p>&#21442;&#35265;<a href="examples.html#examples.jmx" title="11.1.21.&nbsp;JMX&#31649;&#29702;">Section&nbsp;11.1.21, &#8220;JMX&#31649;&#29702;&#8221;</a>&#65292;&#36825;&#20010;&#20363;&#23376;&#23637;&#31034;&#20102;&#22914;&#20309;&#20351;&#29992;&#36828;&#31243;JMX&#36830;&#25509;&#25110;MBean&#20195;&#29702;&#26469;&#31649;&#29702;HornetQ&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6101"></a>30.3.&nbsp;&#20351;&#29992;&#26680;&#24515;&#25509;&#21475;</h2></div></div><div></div></div><p>&#26680;&#24515;&#31649;&#29702;&#25509;&#21475;&#30340;&#35843;&#29992;&#23454;&#38469;&#19978;&#26159;&#21521;&#19968;&#20010;&#29305;&#27530;&#30340;&#22320;&#22336;&#21457;&#36865;&#26680;&#24515;&#28040;&#24687;&#12290;&#36825;&#20010;&#29305;&#27530;&#22320;&#22336;&#31216;&#20026;<span class="emphasis"><em>&#31649;&#29702;&#22320;&#22336;</em></span>&#12290;</p><p><span class="emphasis"><em>&#31649;&#29702;&#28040;&#24687;</em></span>&#26159;&#19968;&#20123;&#23450;&#20041;&#20102;&#19968;&#20123;&#22266;&#23450;&#23646;&#24615;&#30340;&#26222;&#36890;&#26680;&#24515;&#28040;&#24687;&#12290;&#26381;&#21153;&#22120;&#36890;&#36807;&#36825;&#20123;&#23646;&#24615;&#26469;&#35299;&#37322;&#31649;&#29702;&#25805;&#20316;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#31649;&#29702;&#36164;&#28304;&#30340;&#21517;&#31216;</p></li><li><p>&#31649;&#29702;&#25805;&#20316;&#30340;&#21517;&#31216;</p></li><li><p>&#31649;&#29702;&#25805;&#20316;&#30340;&#21442;&#25968;</p></li></ul></div><p>&#24403;&#19968;&#20010;&#31649;&#29702;&#28040;&#24687;&#21457;&#36865;&#21040;&#31649;&#29702;&#22320;&#22336;&#26102;&#65292;HornetQ&#26381;&#21153;&#22120;&#23558;&#20174;&#20013;&#25552;&#21462;&#20986;&#30456;&#24212;&#30340;&#20449;&#24687;&#65292;&#20877;&#35843;&#29992;&#30456;&#24212;&#30340;&#31649;&#29702;&#36164;&#28304;&#30340;&#26041;&#27861;&#65292;&#20043;&#21518;&#21521;
         &#35813;&#31649;&#29702;&#28040;&#24687;&#30340;&#22238;&#31572;&#22320;&#22336;&#65288;reply-to address&#65292;&#30001;<tt class="literal">ClientMessageImpl.REPLYTO_HEADER_NAME
         </tt>&#23450;&#20041;&#65289;&#21457;&#36865;&#19968;&#20010;<span class="emphasis"><em>&#31649;&#29702;&#22238;&#31572;</em></span>&#12290;</p><p>&#19968;&#20010;<tt class="literal">ClientConsumer</tt>&#29992;&#26469;&#25509;&#25910;&#31649;&#29702;&#22238;&#31572;&#24182;&#25552;&#21462;&#20986;&#20854;&#20013;&#30340;&#25805;&#20316;&#30340;&#32080;&#26524;&#65288;&#22914;&#26524;&#26377;&#30340;&#35805;&#65289;&#12290;
         &#32771;&#34385;&#21040;&#21487;&#31227;&#26893;&#24615;&#65292;&#36820;&#22238;&#30340;&#32080;&#26524;&#37319;&#29992;&#30340;&#26159;&#26684;&#24335;&#30340;&#23383;&#31526;&#20018;&#65292;&#32780;&#27809;&#26377;&#37319;&#29992;Java&#30340;&#24207;&#21015;&#21270;&#25216;&#26415;
         &#65288;<tt class="literal">org.hornetq.api.core.management.ManagementHelper</tt>&#21487;&#20197;&#29992;&#26469;&#23558;JSON&#23383;&#31526;&#20018;
         &#36716;&#25442;&#25104;Java&#23545;&#35937;&#65289;&#12290;</p><p>&#20351;&#29992;&#20197;&#19979;&#27493;&#39588;&#21487;&#20197;&#31616;&#21270;&#20351;&#29992;&#26680;&#24515;&#28040;&#24687;&#35843;&#29992;&#31649;&#29702;&#25805;&#20316;&#65306;</p><div class="orderedlist"><ol type="1"><li><p>&#21019;&#24314;&#19968;&#20010;<tt class="literal">ClientRequestor</tt>&#23545;&#35937;&#65292;&#29992;&#26469;&#21457;&#36865;&#31649;&#29702;&#28040;&#24687;&#24182;&#25509;&#25910;&#22238;&#31572;&#12290;</p></li><li><p>&#21019;&#24314;&#19968;&#20010;<tt class="literal">ClientMessage</tt>&#12290;</p></li><li><p>&#20351;&#29992;<tt class="literal">org.hornetq.api.core.management.ManagementHelper</tt>&#31867;&#26469;&#24110;&#21161;&#35774;&#32622;&#28040;&#24687;&#30340;&#31649;&#29702;&#21442;&#25968;&#12290;</p></li><li><p>&#36890;&#36807;<tt class="literal">ClientRequestor</tt>&#23558;&#28040;&#24687;&#21457;&#36865;</p></li><li><p>&#20351;&#29992; <tt class="literal">org.hornetq.api.core.management.ManagementHelper</tt>&#31867;&#20174;&#31649;&#29702;&#25805;&#20316;&#32080;&#26524;&#20013;&#25552;&#21462;&#36820;&#22238;&#20540;&#12290;</p></li></ol></div><p>&#20363;&#22914;&#65292;&#35201;&#24471;&#21040;&#26680;&#24515;&#38431;&#21015;<tt class="literal">exampleQueue</tt>&#20013;&#28040;&#24687;&#30340;&#25968;&#37327;&#65306;</p><pre class="programlisting">
   ClientSession session = ...
   ClientRequestor requestor = new ClientRequestor(session, "jms.queue.hornetq.management");
   ClientMessage message = session.createMessage(false);
   ManagementHelper.putAttribute(message, "core.queue.exampleQueue", "messageCount");
   ClientMessage reply = requestor.request(m);
   int count = (Integer) ManagementHelper.getResult(reply);
   System.out.println("There are " + count + " messages in exampleQueue");
      </pre><p>&#31649;&#29702;&#25805;&#20316;&#21517;&#21450;&#20854;&#21442;&#25968;&#24517;&#39035;&#21644;<tt class="literal">management</tt>&#21253;&#20013;&#23450;&#20041;&#30340;Java&#25509;&#21475;&#19968;&#33268;&#12290;</p><p>&#36164;&#28304;&#30340;&#21517;&#31216;&#26159;&#29992;<tt class="literal">org.hornetq.api.core.management.ResourceNames</tt>&#31867;&#26469;&#29983;&#25104;&#30340;&#65292;
            &#21629;&#21517;&#37117;&#38750;&#24120;&#30452;&#35266;&#65288;&#22914;&#26680;&#24515;&#38431;&#21015;<tt class="literal">exampleQueue</tt>&#30340;&#21517;&#31216;&#20026;<tt class="literal">core.queue.exampleQueue</tt>&#65292;
            JMS Topic <tt class="literal">exampleTopic</tt>&#30340;&#21517;&#31216;&#20026;<tt class="literal">jms.topic.exampleTopic</tt>&#65292;&#31561;&#31561;&#65289;&#12290;
</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="management.core.configuration"></a>30.3.1.&nbsp;&#37197;&#32622;&#26680;&#24515;&#31649;&#29702;</h3></div></div><div></div></div><p>&#31649;&#29702;&#22320;&#22336;&#30340;&#37197;&#32622;&#22312;&#25991;&#20214;<tt class="literal">hornetq-configuration.xml</tt>&#20013;&#65306;</p><pre class="programlisting">
   &lt;management-address&gt;jms.queue.hornetq.management&lt;/management-address&gt;
         </pre><p>&#23427;&#30340;&#40664;&#35748;&#22320;&#22336;&#26159;<tt class="literal">jms.queue.hornetq.management</tt> &#65288;&#22320;&#22336;&#21069;&#32512;&#21152;&#19978;
            &#8220;jms.queue&#8221;&#26159;&#20026;&#20102;&#26041;&#20415;JMS&#23458;&#25143;&#31471;&#20063;&#21487;&#20197;&#21521;&#23427;&#21457;&#36865;&#31649;&#29702;&#28040;&#24687;&#12290;</p><p>&#31649;&#29702;&#22320;&#22336;&#38656;&#35201;&#19968;&#20010;<span class="emphasis"><em>&#29305;&#27530;</em></span>&#30340;&#29992;&#25143;&#26435;&#38480;
               <tt class="literal">manage</tt>&#26469;&#25509;&#25910;&#24182;&#22788;&#29702;&#31649;&#29702;&#28040;&#24687;&#12290;&#36825;&#20010;&#26435;&#38480;&#20063;&#22312;hornetq-configuration.xml&#25991;&#20214;&#20013;&#37197;&#32622;&#65306;</p><pre class="programlisting">
   &lt;!-- users with the admin role will be allowed to manage --&gt; 
   &lt;!-- HornetQ using management messages        --&gt;
   &lt;security-setting match="jms.queue.hornetq.management"&gt;
      &lt;permission type="manage" roles="admin" /&gt;
   &lt;/security-setting&gt;
         </pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="management.jms"></a>30.4.&nbsp;&#20351;&#29992;JMS&#36827;&#34892;&#31649;&#29702;</h2></div></div><div></div></div><p>&#20351;&#29992;JMS&#31649;&#29702;HornetQ&#19982;&#20351;&#29992;&#26680;&#24515;API&#31649;&#29702;HornetQ&#21313;&#20998;&#30456;&#20284;&#12290;</p><p>&#20854;&#20013;&#19968;&#20010;&#37325;&#35201;&#30340;&#19981;&#21516;&#26159;JMS&#38656;&#35201;&#19968;&#20010;JMS&#38431;&#21015;&#26469;&#21457;&#36865;&#28040;&#24687;&#65288;&#32780;&#26680;&#24515;&#25509;&#21475;&#20351;&#29992;&#30340;&#26159;&#19968;&#20010;&#22320;&#22336;&#65289;&#12290;</p><p><span class="emphasis"><em>&#31649;&#29702;&#38431;&#21015;</em></span>&#26159;&#19968;&#20010;&#29305;&#27530;&#30340;&#38431;&#21015;&#65292;&#23427;&#38656;&#35201;&#23458;&#25143;&#31471;&#30452;&#25509;&#23454;&#20363;&#21270;&#65306;</p><pre class="programlisting">
   Queue managementQueue = HornetQJMSClient.createQueue("hornetq.management");
      </pre><p>&#20854;&#20313;&#27493;&#39588;&#23436;&#20840;&#21644;&#20351;&#29992;&#26680;&#24515;&#25509;&#21475;&#19968;&#26679;&#65292;&#21482;&#26159;&#30456;&#24212;&#30340;&#23545;&#35937;&#19981;&#21516;&#65306;</p><div class="orderedlist"><ol type="1"><li><p>&#21019;&#24314;&#19968;&#20010;<tt class="literal">QueueRequestor</tt>&#26469;&#21521;&#31649;&#29702;&#22320;&#22336;&#21457;&#36865;&#31649;&#29702;&#28040;&#24687;&#24182;&#25509;&#25910;&#22238;&#31572;&#12290;</p></li><li><p>&#21019;&#24314;&#19968;&#20010;<tt class="literal">&#28040;&#24687;</tt></p></li><li><p>&#20351;&#29992; <tt class="literal">org.hornetq.api.jms.management.JMSManagementHelper</tt>&#31867;&#21521;&#28040;&#24687;&#20013;&#35774;&#32622;&#31649;&#29702;&#21442;&#25968;&#12290;</p></li><li><p>&#20877;&#20351;&#29992;<tt class="literal">QueueRequestor</tt>&#21457;&#36865;&#28040;&#24687;&#12290;</p></li><li><p>&#20351;&#29992;<tt class="literal">org.hornetq.api.jms.management.JMSManagementHelper</tt>&#26469;&#20174;&#22238;&#31572;&#20013;&#25552;&#21462;&#36820;&#22238;&#32080;&#26524;&#12290;</p></li></ol></div><p>&#20363;&#22914;&#65292;&#35201;&#24471;&#21040;&#19968;&#20010;JMS&#38431;&#21015;<tt class="literal">exampleQueue</tt>&#20013;&#26377;&#22810;&#23569;&#28040;&#24687;&#65306;</p><pre class="programlisting">
   Queue managementQueue = HornetQJMSClient.createQueue("hornetq.management");   
   
   QueueSession session = ...      
   QueueRequestor requestor = new QueueRequestor(session, managementQueue);
   connection.start();
   Message message = session.createMessage();
   JMSManagementHelper.putAttribute(message, "jms.queue.exampleQueue", "messageCount");
   Message reply = requestor.request(message);
   int count = (Integer)JMSManagementHelper.getResult(reply);
   System.out.println("There are " + count + " messages in exampleQueue");
      </pre><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6278"></a>30.4.1.&nbsp;&#37197;&#32622;JMS&#31649;&#29702;</h3></div></div><div></div></div><p>JMS&#31649;&#29702;&#30340;&#37197;&#32622;&#19982;&#26680;&#24515;&#25509;&#21475;&#31649;&#29702;&#30340;&#37197;&#32622;&#27493;&#39588;&#26159;&#19968;&#26679;&#30340;&#65288;&#21442;&#35265;<a href="management.html#management.core.configuration" title="30.3.1.&nbsp;&#37197;&#32622;&#26680;&#24515;&#31649;&#29702;">Section&nbsp;30.3.1, &#8220;&#37197;&#32622;&#26680;&#24515;&#31649;&#29702;&#8221;</a>&#65289;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6285"></a>30.4.2.&nbsp;&#20363;&#23376;</h3></div></div><div></div></div><p>&#21442;&#35265;<a href="examples.html#examples.management" title="11.1.25.&nbsp;&#31649;&#29702;">Section&nbsp;11.1.25, &#8220;&#31649;&#29702;&#8221;</a>&#65292;&#23427;&#23637;&#31034;&#20102;&#22914;&#20309;&#20351;&#29992;JMS&#28040;&#24687;&#26469;&#31649;&#29702;HornetQ&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="management.notifications"></a>30.5.&nbsp;&#31649;&#29702;&#36890;&#30693;</h2></div></div><div></div></div><p>HornetQ&#21487;&#20197;&#21521;listener&#21457;&#36865;&#21508;&#31181;&#20107;&#20214;&#30340;<span class="emphasis"><em>&#36890;&#30693;</em></span>&#65288;&#22914;&#36164;&#28304;&#30340;&#21019;&#24314;&#65292;&#23433;&#20840;&#30772;&#22351;&#31561;&#65289;&#12290;</p><p>&#26377;&#19977;&#31181;&#26041;&#24335;&#25509;&#25910;&#31649;&#29702;&#36890;&#30693;</p><div class="itemizedlist"><ul type="disc"><li><p>JMX&#36890;&#30693;</p></li><li><p>&#26680;&#24515;&#28040;&#24687;</p></li><li><p>JMS&#28040;&#24687;</p></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6312"></a>30.5.1.&nbsp;JMX&#36890;&#30693;</h3></div></div><div></div></div><p>&#22914;&#26524;&#35774;&#32622;&#20102;JMX&#65288;&#21442;&#35265;<a href="management.html#management.jmx.configuration" title="30.2.1.&nbsp;&#37197;&#32622;JMX">Section&nbsp;30.2.1, &#8220;&#37197;&#32622;JMX&#8221;</a>&#65289;&#65292;&#23601;&#21487;&#20197;&#36890;&#36807;&#35746;&#38405;&#20197;&#19979;
               &#20004;&#20010;MBean&#26469;&#33719;&#24471;&#36890;&#30693;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">org.hornetq:module=Core,type=Server</tt> &#21487;&#20197;&#33719;&#24471;&#26377;&#20851;
                     <span class="emphasis"><em>&#26680;&#24515;</em></span>&#36164;&#28304;&#30340;&#36890;&#30693;</p></li><li><p><tt class="literal">org.hornetq:module=JMS,type=Server</tt>&#21487;&#20197;&#33719;&#24471;&#26377;&#20851;
                     <span class="emphasis"><em>JMS</em></span>&#36164;&#28304;&#30340;&#36890;&#30693;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6336"></a>30.5.2.&nbsp;&#26680;&#24515;&#28040;&#24687;&#36890;&#30693;</h3></div></div><div></div></div><p>HornetQ&#23450;&#20041;&#20102;&#19968;&#20010;&#29305;&#27530;&#30340;<span class="emphasis"><em>&#31649;&#29702;&#36890;&#30693;&#22320;&#22336;</em></span>&#12290;&#26680;&#24515;&#38431;&#21015;&#32465;&#23450;&#21040;&#35813;&#22320;&#22336;&#21518;&#65292;&#23458;&#25143;
            &#31471;&#23601;&#21487;&#20197;&#25509;&#25910;&#20197;&#26680;&#24515;&#28040;&#24687;&#24418;&#24335;&#21457;&#36865;&#30340;&#31649;&#29702;&#20449;&#36890;&#30693;&#20102;&#12290;</p><p>&#19968;&#20010;&#26680;&#24515;&#23458;&#25143;&#31471;&#35201;&#24819;&#25509;&#25910;&#21040;&#31649;&#29702;&#36890;&#30693;&#65292;&#23427;&#24517;&#39035;&#35201;&#21019;&#24314;&#19968;&#20010;&#38431;&#21015;&#24182;&#32465;&#23450;&#21040;&#36825;&#20010;&#31649;&#29702;&#36890;&#30693;&#22320;&#22336;&#19978;&#65292;&#28982;&#21518;&#20174;&#36825;&#20010;
            &#38431;&#21015;&#25509;&#25910;&#36890;&#30693;&#12290;</p><p>&#36890;&#30693;&#28040;&#24687;&#23601;&#26159;&#26222;&#36890;&#30340;&#26680;&#24515;&#28040;&#24687;&#21152;&#19978;&#30456;&#20851;&#30340;&#23646;&#24615;&#65288;&#22914;&#36890;&#30693;&#31867;&#22411;&#65292;&#20107;&#20214;&#21457;&#29983;&#26102;&#38388;&#65292;&#36164;&#28304;&#31561;&#65289;&#12290;</p><p>&#30001;&#20110;&#26159;&#26631;&#20934;&#30340;&#26680;&#24515;&#28040;&#24687;&#65292;&#20351;&#29992;&#36873;&#25321;&#22120;&#36824;&#33021;&#22815;&#36807;&#28388;&#25481;&#19968;&#37096;&#20998;&#36890;&#30693;&#32780;&#21482;&#25509;&#25910;&#24863;&#20852;&#36259;&#30340;&#36890;&#30693;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="management.notifications.core.configuration"></a>30.5.2.1.&nbsp;&#37197;&#32622;&#26680;&#24515;&#31649;&#29702;&#36890;&#30693;&#22320;&#22336;</h4></div></div><div></div></div><p>&#29992;&#26469;&#21457;&#36865;&#31649;&#29702;&#36890;&#30693;&#30340;&#22320;&#22336;&#22312;&#25991;&#20214;&#20013;<tt class="literal">hornetq-configuration.xml</tt>&#37197;&#32622;&#65306;</p><pre class="programlisting">
               &lt;management-notification-address&gt;hornetq.notifications&lt;/management-notification-address&gt;
            </pre><p>&#40664;&#35748;&#30340;&#22320;&#22336;&#26159;<tt class="literal">hornetq.notifications</tt>&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6365"></a>30.5.3.&nbsp;JMS&#28040;&#24687;&#36890;&#30693;</h3></div></div><div></div></div><p>HornetQ&#36824;&#21487;&#20197;&#36890;&#36807;JMS&#28040;&#24687;&#30340;&#26041;&#24335;&#21457;&#36865;&#36890;&#30693;&#12290;</p><p>&#36825;&#31181;&#26041;&#24335;&#19982;&#26680;&#24515;&#28040;&#24687;&#36890;&#30693;&#30456;&#20284;&#65292;&#20294;&#26159;&#26377;&#19968;&#20010;&#37325;&#35201;&#30340;&#19981;&#21516;&#65306;JMS&#28040;&#24687;&#38656;&#35201;&#19968;&#20010;JMS&#30340;&#30446;&#26631;&#65288;&#36890;&#24120;&#26159;&#19968;&#20010;Topic&#65289;&#12290;</p><p>&#35201;&#36890;&#36807;&#19968;&#20010;JMS&#30446;&#26631;&#26469;&#25509;&#25910;&#31649;&#29702;&#36890;&#30693;&#65292;&#24517;&#39035;&#23558;&#26381;&#21153;&#22120;&#30340;&#31649;&#29702;&#36890;&#30693;&#22320;&#22336;&#20462;&#25913;&#20026;&#20197;<tt class="literal">jms.queue</tt>&#24320;&#22836;&#65288;&#22914;&#26524;&#26159;&#19968;&#20010;
            JMS&#38431;&#21015;&#65289;&#25110;&#32773;<tt class="literal">jms.topic</tt>&#65288;&#22914;&#26524;&#26159;&#19968;&#20010;&#35805;&#39064;&#65289;&#65306;</p><pre class="programlisting">
            &lt;!-- &#36890;&#30693;&#23558;&#20174;JMS&#35805;&#39064; "notificationsTopic"&#19978;&#25509;&#25910; --&gt; 
            &lt;management-notification-address&gt;jms.topic.notificationsTopic&lt;/management-notification-address&gt;
         </pre><p>&#36825;&#20010;&#36890;&#30693;&#35805;&#39064;&#19968;&#26086;&#34987;&#21019;&#24314;&#65292;&#23601;&#21487;&#20197;&#25509;&#25910;&#28040;&#24687;&#20102;&#65288;&#25110;&#32773;&#20351;&#29992;<tt class="literal">MessageListener</tt>&#65289;&#65306;</p><pre class="programlisting">
   Topic notificationsTopic = HornetQJMSClient.createTopic("notificationsTopic");

   Session session = ...
   MessageConsumer notificationConsumer = session.createConsumer(notificationsTopic);
      notificationConsumer.setMessageListener(new MessageListener()
      {
         public void onMessage(Message notif)
         {
            System.out.println("------------------------");
            System.out.println("Received notification:");
            try
            {
               Enumeration propertyNames = notif.getPropertyNames();
               while (propertyNames.hasMoreElements())
               {
                  String propertyName = (String)propertyNames.nextElement();
                  System.out.format("  %s: %s\n", propertyName, notif.getObjectProperty(propertyName));
               }
            }
            catch (JMSException e)
            {
            }
            System.out.println("------------------------");
         }            
      });            
         </pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6389"></a>30.5.4.&nbsp;&#20363;&#23376;</h3></div></div><div></div></div><p>&#21442;&#35265;<a href="examples.html#examples.management-notifications" title="11.1.26.&nbsp;&#31649;&#29702;&#36890;&#30693;">Section&nbsp;11.1.26, &#8220;&#31649;&#29702;&#36890;&#30693;&#8221;</a>&#12290;&#26412;&#20363;&#37319;&#29992;&#20102;JMS&#30340;<tt class="literal">
            MessageListener</tt>&#26041;&#27861;&#20174;HornetQ
            &#26381;&#21153;&#22120;&#25509;&#25910;&#31649;&#29702;&#36890;&#30693;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="management.message-counters"></a>30.6.&nbsp;&#28040;&#24687;&#35745;&#25968;&#22120;</h2></div></div><div></div></div><p>HornetQ&#20445;&#23384;&#30528;&#38431;&#21015;&#30340;&#21382;&#21490;&#25968;&#25454;&#65292;&#32780;&#28040;&#24687;&#35745;&#25968;&#22120;&#21487;&#20197;&#20174;&#26381;&#21153;&#22120;&#19978;&#33719;&#21462;&#36825;&#20123;&#20449;&#24687;&#12290;</p><p>&#36825;&#20123;&#20449;&#24687;&#21487;&#20197;&#26174;&#31034;&#38431;&#21015;&#30340;&#19968;&#20123;<span class="emphasis"><em>&#36235;&#21183;</em></span>&#12290;&#20363;&#22914;&#65292;&#20351;&#29992;&#31649;&#29702;&#25509;&#21475;&#20320;&#21487;&#20197;&#23450;&#26399;&#26469;&#26597;&#35810;&#19968;&#20010;&#38431;&#21015;
         &#30340;&#28040;&#24687;&#25968;&#37327;&#12290;&#20294;&#36825;&#20010;&#25968;&#37327;&#19981;&#36275;&#20197;&#35828;&#26126;&#36825;&#20010;&#38431;&#21015;&#26159;&#21542;&#22312;&#24037;&#20316;&#65293;&#65293;&#20063;&#35768;&#36825;&#20010;&#38431;&#21015;&#26082;&#27809;&#26377;&#21457;&#36865;&#32773;&#20063;&#27809;&#26377;&#25509;&#25910;&#32773;&#65307;&#20063;&#35768;&#36825;&#20010;&#38431;&#21015;
         &#22312;&#19981;&#20572;&#22320;&#21457;&#36865;&#19982;&#25509;&#25910;&#65292;&#20294;&#26159;&#21457;&#36865;&#28040;&#24687;&#30340;&#36895;&#24230;&#19982;&#25509;&#25910;&#30340;&#36895;&#24230;&#30456;&#31561;&#12290;&#20004;&#21681;&#24773;&#20917;&#19979;&#37117;&#20250;&#36896;&#25104;&#28040;&#24687;&#25968;&#22312;&#38431;&#21015;&#20013;&#19981;&#21464;&#65292;&#20294;&#23454;&#38469;&#38431;&#21015;
         &#30340;&#29366;&#24577;&#30830;&#23436;&#20840;&#19981;&#19968;&#26679;&#12290;</p><p>&#28040;&#24687;&#35745;&#25968;&#22120;&#21487;&#20197;&#25552;&#20379;&#38431;&#21015;&#30340;&#26356;&#22810;&#30340;&#20449;&#24687;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">count</tt></p><p>&#20174;&#26381;&#21153;&#22120;&#21551;&#21160;&#26102;&#21152;&#21040;&#38431;&#21015;&#20013;&#30340;<span class="emphasis"><em>&#24635;</em></span>&#28040;&#24687;&#25968;&#12290;</p></li><li><p><tt class="literal">countDelta</tt></p><p>&#33258;<span class="emphasis"><em>&#19978;&#27425;&#28040;&#24687;&#35745;&#25968;&#22120;&#26356;&#26032;</em></span>&#21518;&#21152;&#20837;&#21040;&#38431;&#21015;&#30340;&#28040;&#24687;&#25968;&#12290;</p></li><li><p><tt class="literal">depth</tt></p><p>&#38431;&#21015;<span class="emphasis"><em>&#24403;&#21069;</em></span>&#30340;&#28040;&#24687;&#25968;&#12290;</p></li><li><p><tt class="literal">depthDelta</tt></p><p>&#33258;<span class="emphasis"><em>&#19978;&#27425;&#28040;&#24687;&#35745;&#25968;&#22120;&#26356;&#26032;</em></span>&#21518;&#34987;&#21152;&#20837;&#65295;&#21024;&#38500;&#30340;&#28040;&#24687;<span class="emphasis"><em>&#24635;&#25968;</em></span>&#12290;
                  &#20363;&#22914;&#65292;&#22914;&#26524;<tt class="literal">depthDelta</tt>&#26159;<tt class="literal">-10</tt>&#65292;&#23601;&#24847;&#35859;&#30528;&#26377;10&#20010;&#28040;&#24687;&#20174;
                  &#38431;&#21015;&#20013;&#21024;&#38500;&#20102;&#65288;&#26377;&#21487;&#33021;&#26159;2&#20010;&#28040;&#24687;&#21152;&#20837;&#20102;&#20294;&#26377;12&#20010;&#28040;&#24687;&#21024;&#38500;&#20102;&#65289;&#12290;</p></li><li><p><tt class="literal">lastAddTimestamp</tt></p><p>&#26368;&#21518;&#19968;&#20010;&#28040;&#24687;&#21152;&#20837;&#21040;&#38431;&#21015;&#30340;&#26102;&#38388;&#25139;&#12290;</p></li><li><p><tt class="literal">udpateTimestamp</tt></p><p>&#26368;&#21518;&#19968;&#27425;&#28040;&#24687;&#35745;&#25968;&#22120;&#26356;&#26032;&#30340;&#26102;&#38388;&#25139;&#12290;</p></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="configuring.message.counters"></a>30.6.1.&nbsp;&#37197;&#32622;&#28040;&#24687;&#35745;&#25968;&#22120;</h3></div></div><div></div></div><p>&#40664;&#35748;&#30340;&#28040;&#24687;&#35745;&#25968;&#22120;&#26159;&#20851;&#38381;&#30340;&#65292;&#22240;&#20026;&#23427;&#38656;&#35201;&#21344;&#29992;&#19968;&#20123;&#20869;&#23384;&#12290;</p><p>&#35201;&#25171;&#24320;&#28040;&#24687;&#35745;&#25968;&#22120;&#65292;&#32534;&#36753;<tt class="literal">hornetq-configuration.xml</tt>&#25991;&#20214;&#23558;&#20854;&#35774;&#20026;<tt class="literal">true</tt>&#65306;</p><pre class="programlisting">
&lt;message-counter-enabled&gt;true&lt;/message-counter-enabled&gt;
         </pre><p>&#28040;&#24687;&#35745;&#25968;&#22120;&#20250;&#20445;&#23384;&#38431;&#21015;&#30340;&#21382;&#21490;&#25968;&#25454;&#65288;&#40664;&#35748;&#26159;10&#22825;&#65289;&#12290;&#23427;&#20197;&#19968;&#23450;&#38388;&#38548;&#65288;&#40664;&#35748;10&#31186;&#19968;&#27425;&#65289;&#23545;&#27599;&#20010;&#38431;&#21015;&#36827;&#34892;&#25195;&#25551;&#12290;
            &#22914;&#26524;&#28040;&#24687;&#35745;&#25968;&#22120;&#25171;&#24320;&#65292;&#36825;&#20123;&#21442;&#25968;&#21487;&#20197;&#22312;<tt class="literal">hornetq-configuration.xml</tt>&#25991;&#20214;&#20013;&#36827;&#34892;&#35843;&#25972;&#65306;</p><pre class="programlisting">
&lt;!-- keep history for a week --&gt;
&lt;message-counter-max-day-history&gt;7&lt;/message-counter-max-day-history&gt;            
&lt;!-- sample the queues every minute (60000ms) --&gt;
&lt;message-counter-sample-period&gt;60000&lt;/message-counter-sample-period&gt;
         </pre><p>&#20351;&#29992;&#31649;&#29702;&#25509;&#21475;&#21487;&#20197;&#33719;&#24471;&#28040;&#24687;&#35745;&#25968;&#22120;&#12290;&#20363;&#22914;&#35201;&#20351;&#29992;JMX&#24471;&#21040;&#19968;&#20010;JMS&#38431;&#21015;&#30340;&#28040;&#24687;&#35745;&#25968;&#22120;&#65306;</p><pre class="programlisting">
// retrieve a connection to HornetQ's MBeanServer
MBeanServerConnection mbsc = ...
JMSQueueControlMBean queueControl = (JMSQueueControl)MBeanServerInvocationHandler.newProxyInstance(mbsc,
   on,
   JMSQueueControl.class,
   false);
// message counters are retrieved as a JSON String                                                                                                      
String counters = queueControl.listMessageCounter();
// use the MessageCounterInfo helper class to manipulate message counters more easily
MessageCounterInfo messageCounter = MessageCounterInfo.fromJSON(counters);         
System.out.format("%s message(s) in the queue (since last sample: %s)\n",
   counter.getDepth(),
   counter.getDepthDelta());
         </pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6495"></a>30.6.2.&nbsp;&#20363;&#23376;</h3></div></div><div></div></div><p>&#21442;&#35265;<a href="examples.html#examples.message-counters" title="11.1.27.&nbsp;&#28040;&#24687;&#35745;&#25968;&#22120;">Section&nbsp;11.1.27, &#8220;&#28040;&#24687;&#35745;&#25968;&#22120;&#8221;</a>&#12290;&#36825;&#20010;&#20363;&#23376;&#20351;&#29992;&#28040;&#24687;&#35745;&#25968;&#22120;&#26469;&#33719;&#24471;&#19968;&#20010;JMS&#38431;&#21015;&#30340;&#30456;&#20851;&#25968;&#25454;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6502"></a>30.7.&nbsp;&#36890;&#36807;JBoss&#24212;&#29992;&#26381;&#21153;&#22120;&#30340;Admin Console&#26469;&#31649;&#29702;HornetQ&#30340;&#36164;&#28304;</h2></div></div><div></div></div><p>&#36890;&#36807;JBoss&#24212;&#29992;&#26381;&#21153;&#22120;&#30340;Admin Console&#21487;&#20197;&#21019;&#24314;&#19982;&#37197;&#32622;HornetQ&#30340;&#21508;&#31181;&#36164;&#28304;&#12290;</p><p>Admin Console&#20801;&#35768;&#20320;&#21019;&#24314;&#21508;&#31181;&#30446;&#26631;&#65288;JMS&#35805;&#39064;&#19982;&#38431;&#21015;&#65289;&#21644;JMS&#30340;&#36830;&#25509;&#24037;&#21378;&#12290;</p><p>&#30331;&#24405;admin console&#21518;&#20320;&#22312;&#24038;&#36793;&#30340;&#26641;&#20013;&#20250;&#30475;&#21040;JMS Manager&#33410;&#28857;&#12290;&#25152;&#26377;HornetQ&#30340;&#36164;&#28304;&#37117;&#23646;&#20110;&#36825;&#20010;&#33410;&#28857;&#12290;&#22312;&#23427;&#30340;&#19979;&#38754;&#26377;JMS Queues&#12289;
         Topics&#20197;&#21450;Connection Factories&#12290;&#20998;&#21035;&#28857;&#20987;&#23427;&#20204;&#23558;&#20250;&#30475;&#21040;&#30456;&#24212;&#30340;&#36164;&#28304;&#12290;&#19979;&#38754;&#23558;&#35299;&#37322;&#22914;&#20309;&#21019;&#24314;&#24182;&#37197;&#32622;&#23427;&#20204;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6511"></a>30.7.1.&nbsp;JMS&#38431;&#21015;</h3></div></div><div></div></div><p>&#35201;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;JMS&#38431;&#21015;&#65292;&#28857;&#20987;JMS Queues&#23558;&#21015;&#20986;&#24403;&#21069;&#30340;&#38431;&#21015;&#12290;&#22312;&#21491;&#36793;&#30340;&#31383;&#21475;&#20013;&#26377;&#19968;&#20010;&#8220;add a new resource&#8220;&#25353;&#38062;&#65292;&#28857;&#20987;&#36825;&#20010;&#25353;&#38062;
            &#24182;&#36873;&#25321;&#40664;&#35748;&#65288;JMS &#38431;&#21015;&#65289;&#27169;&#26495;&#12290;&#28857;&#20987;&#8220;continue&#8220;&#12290;&#22635;&#20837;&#30456;&#24212;&#30340;&#38431;&#21015;&#21517;&#31216;&#19982;JNDI&#21517;&#31216;&#12290;&#20854;&#23427;&#30340;&#21442;&#25968;&#20540;&#37117;&#32473;&#20986;&#20102;&#21512;&#29702;&#30340;&#40664;&#35748;&#20540;&#65292;&#36890;&#24120;&#24773;&#20917;&#19979;
            &#19981;&#29992;&#25913;&#21160;&#23427;&#20204;&#12290;&#22312;&#24213;&#37096;&#21487;&#20197;&#37197;&#32622;&#23433;&#20840;&#35282;&#33394;&#65292;&#22914;&#26524;&#20320;&#19981;&#25552;&#20379;&#23558;&#20351;&#29992;&#40664;&#35748;&#30340;&#37197;&#32622;&#12290;&#24403;&#36825;&#20010;&#38431;&#21015;&#25104;&#21151;&#21019;&#24314;&#21518;&#36825;&#20123;&#37197;&#32622;&#23558;&#20250;&#26174;&#31034;&#20986;&#26469;&#12290;&#38500;&#20102;&#38431;&#21015;&#30340;&#21517;&#23383;
            &#21644;JNDI&#21517;&#23383;&#22806;&#65292;&#20854;&#23427;&#21442;&#25968;&#37117;&#21487;&#20197;&#22312;contiguration&#26631;&#31614;&#39029;&#19979;&#36827;&#34892;&#20462;&#25913;&#12290;&#19979;&#38754;&#23601;&#23545;&#23427;&#20204;&#20998;&#21035;&#35299;&#37322;&#12290;</p><p>&#28857;&#20987; configuration&#21518;&#20320;&#23558;&#30475;&#21040;&#22914;&#19979;&#26174;&#31034;&#65306;</p><p>
            </p><div align="center"><img src="images/console1.png" align="middle"></div><p>
        </p><p>name&#21644;JNDI name&#26159;&#19981;&#33021;&#25913;&#21464;&#30340;&#12290;&#22914;&#26524;&#20320;&#24819;&#25913;&#21464;&#23427;&#20204;&#65292;&#24517;&#39035;&#37325;&#26032;&#21019;&#24314;&#38431;&#21015;&#12290;&#20854;&#23427;&#36873;&#39033;&#26159;&#20851;&#20110;&#22320;&#22336;&#35774;&#32622;&#19982;&#23433;&#20840;&#35774;&#32622;&#12290;
         &#40664;&#35748;&#30340;&#22320;&#22336;&#35774;&#32622;&#26469;&#33258;&#20110;&#26381;&#21153;&#22120;&#30340;&#37197;&#32622;&#12290;&#22914;&#26524;&#20320;&#36890;&#36807;console&#20462;&#25913;&#25110;&#21019;&#24314;&#19968;&#20010;&#38431;&#21015;&#65292;&#37027;&#20040;&#23601;&#20250;&#22686;&#21152;&#19968;&#26465;&#26032;&#30340;&#22320;&#22336;&#35774;&#32622;&#12290;&#26377;&#20851;
         &#22320;&#22336;&#35774;&#32622;&#30340;&#23436;&#25972;&#35828;&#26126;&#21442;&#35265;<a href="queue-attributes.html#queue-attributes.address-settings" title="25.3.&nbsp;&#36890;&#36807;&#22320;&#22336;&#35774;&#32622;&#26469;&#37197;&#32622;&#38431;&#21015;&#23646;&#24615;">Section&nbsp;25.3, &#8220;&#36890;&#36807;&#22320;&#22336;&#35774;&#32622;&#26469;&#37197;&#32622;&#38431;&#21015;&#23646;&#24615;&#8221;</a>&#12290;</p><p>&#35201;&#21024;&#38500;&#19968;&#20010;&#38431;&#21015;&#65292;&#21482;&#35201;&#28857;&#20987;&#38431;&#21015;&#21517;&#31216;&#26049;&#36793;&#30340;&#8220;delete&#8220;&#25353;&#38062;&#21363;&#21487;&#12290;&#19982;&#27492;&#38431;&#21015;&#30456;&#20851;&#30340;&#20219;&#20309;&#22320;&#22336;&#35774;&#32622;&#25110;&#23433;&#20840;&#35774;&#32622;&#20063;&#23558;&#34987;&#21024;&#38500;&#12290;</p><p>&#37197;&#32622;&#30340;&#26368;&#21518;&#19968;&#37096;&#20998;&#26159;&#23433;&#20840;&#35282;&#33394;&#12290;&#22914;&#26524;&#22312;&#21019;&#24314;&#26102;&#27809;&#26377;&#32473;&#20986;&#21017;&#40664;&#35748;&#30340;&#23433;&#20840;&#35774;&#32622;&#23558;&#20250;&#26174;&#31034;&#22312;&#23631;&#24149;&#19978;&#12290;&#22914;&#26524;&#23427;&#20204;&#34987;&#20462;&#25913;&#24182;&#26356;&#26032;&#21017;&#38431;&#21015;&#30340;&#23433;&#20840;&#35774;&#32622;
            &#23558;&#34987;&#26356;&#26032;&#12290;&#20851;&#20110;&#23433;&#20840;&#35774;&#32622;&#21442;&#35265;<a href="security.html" title="Chapter&nbsp;31.&nbsp;&#23433;&#20840;">Chapter&nbsp;31, <i>&#23433;&#20840;</i></a>&#12290; </p><p>&#22312;console&#20013;&#36824;&#26377;&#19968;&#20010;metrics&#26631;&#31614;&#39029;&#65292;&#23427;&#26174;&#31034;&#20102;&#38431;&#21015;&#30340;&#21508;&#39033;&#32479;&#35745;&#25968;&#25454;&#65292;&#22914;&#28040;&#24687;&#35745;&#25968;&#65292;&#25509;&#25910;&#32773;&#35745;&#25968;&#31561;&#12290;</p><p>&#22312;control&#26631;&#31614;&#39029;&#20013;&#21487;&#20197;&#23545;&#38431;&#21015;&#36827;&#34892;&#21508;&#31181;&#25805;&#20316;&#65292;&#27604;&#22914;&#21551;&#21160;&#21644;&#20572;&#27490;&#38431;&#21015;&#65292;&#23545;&#38431;&#21015;&#20013;&#30340;&#28040;&#24687;&#36827;&#34892;&#21015;&#34920;&#65292;&#31227;&#21160;&#65292;&#21464;&#20026;&#36807;&#26399;&#65292;&#21024;&#38500;&#31561;&#12290;
         &#35201;&#36827;&#34892;&#19968;&#39033;&#25805;&#20316;&#21482;&#35201;&#28857;&#20987;&#30456;&#24212;&#30340;&#25353;&#38062;&#65292;&#28982;&#21518;&#22312;&#20986;&#29616;&#30340;&#25552;&#31034;&#20013;&#36755;&#20837;&#30456;&#24212;&#30340;&#21442;&#25968;&#65292;&#20877;&#28857;&#20987;ok&#25353;&#38062;&#21363;&#21487;&#12290;&#25805;&#20316;&#30340;&#32080;&#26524;&#20250;&#26174;&#31034;&#22312;&#23631;&#24149;&#30340;&#24213;&#37096;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6536"></a>30.7.2.&nbsp;JMS&#35805;&#39064;</h3></div></div><div></div></div><p>&#21019;&#24314;&#21450;&#37197;&#32622;JMS&#35805;&#39064;&#20960;&#20046;&#19982;&#38431;&#21015;&#30340;&#25805;&#20316;&#26159;&#19968;&#26679;&#30340;&#12290;&#21807;&#19968;&#19981;&#21516;&#30340;&#26159;&#36825;&#20123;&#37197;&#32622;&#24212;&#29992;&#20110;&#19968;&#20010;&#20195;&#34920;&#35746;&#38405;&#30340;&#38431;&#21015;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6541"></a>30.7.3.&nbsp;JMS&#36830;&#25509;&#24037;&#21378;</h3></div></div><div></div></div><p>JMS&#36830;&#25509;&#24037;&#21378;&#30340;&#21019;&#24314;&#30340;&#25805;&#20316;&#36807;&#31243;&#19982;&#19978;&#36848;&#38431;&#21015;&#25110;&#35805;&#39064;&#30340;&#25805;&#20316;&#19968;&#33268;&#65292;&#21482;&#26159;&#37197;&#32622;&#20855;&#20307;&#30340;&#21442;&#25968;&#19981;&#21516;&#32780;&#24050;&#12290;&#20851;&#20110;&#36830;&#25509;&#24037;&#21378;&#30340;&#21442;&#25968;&#21442;&#35265;&#37197;&#32622;&#32034;&#24341;&#12290;</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pre-acknowledge.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="security.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;29.&nbsp;&#39044;&#20808;&#36890;&#30693;&#27169;&#24335;&#65288;pre-acknowledge&#65289;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;31.&nbsp;&#23433;&#20840;</td></tr></table></div></body></html>