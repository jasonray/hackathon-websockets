<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;46.&nbsp;&#24615;&#33021;&#35843;&#20248;</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="HornetQ 2.1&#29992;&#25143;&#25163;&#20876;"><link rel="up" href="index.html" title="HornetQ 2.1&#29992;&#25143;&#25163;&#20876;"><link rel="previous" href="interoperability.html" title="Chapter&nbsp;45.&nbsp;&#20114;&#25805;&#20316;&#24615;"><link rel="next" href="configuration-index.html" title="Chapter&nbsp;47.&nbsp;&#37197;&#32622;&#21442;&#25968;&#32034;&#24341;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;46.&nbsp;&#24615;&#33021;&#35843;&#20248;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="interoperability.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="configuration-index.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="perf-tuning"></a>Chapter&nbsp;46.&nbsp;&#24615;&#33021;&#35843;&#20248;</h2></div></div><div></div></div><p>&#26412;&#31456;&#35762;&#36848;&#22914;&#20309;&#20248;&#21270;HornetQ&#30340;&#24615;&#33021;</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11006"></a>46.1.&nbsp;&#25345;&#20037;&#23618;&#30340;&#20248;&#21270;</h2></div></div><div></div></div><div class="itemizedlist"><ul type="disc"><li><p>&#23558;&#28040;&#24687;&#26085;&#24535;&#25918;&#21040;&#21333;&#29420;&#30340;&#29289;&#29702;&#21367;&#19978;&#12290;&#22914;&#26524;&#19982;&#20854;&#23427;&#25968;&#25454;&#20849;&#20139;&#65292;&#20363;&#22914;&#20107;&#21153;&#31649;&#29702;&#12289;&#25968;&#25454;&#24211;&#25110;&#20854;&#23427;&#26085;&#24535;&#31561;&#65292;&#37027;&#20040;&#23601;&#20250;
                    &#22686;&#21152;&#35835;&#20889;&#30340;&#36127;&#25285;&#65292;&#30913;&#22836;&#20250;&#22312;&#22810;&#20010;&#19981;&#21516;&#25991;&#20214;&#20043;&#38388;&#39057;&#32321;&#22320;&#31227;&#21160;&#65292;&#26497;&#22823;&#22320;&#38477;&#20302;&#24615;&#33021;&#12290;&#25105;&#20204;&#30340;&#26085;&#24535;&#31995;&#32479;&#37319;&#29992;&#30340;&#26159;&#21482;
                    &#28155;&#21152;&#30340;&#27169;&#24335;&#65292;&#30446;&#30340;&#23601;&#26159;&#26368;&#22823;&#31243;&#24230;&#28187;&#23569;&#30913;&#22836;&#30340;&#31227;&#21160;&#12290;&#22914;&#26524;&#30913;&#30424;&#34987;&#20849;&#20139;&#65292;&#37027;&#20040;&#36825;&#19968;&#30446;&#30340;&#23558;&#19981;&#33021;&#36798;&#21040;&#12290;&#21478;&#22806;&#22914;&#26524;
                    &#20320;&#20351;&#29992;&#20998;&#39029;&#36716;&#23384;&#25110;&#22823;&#28040;&#24687;&#21151;&#33021;&#26102;&#65292;&#20320;&#26368;&#22909;&#20998;&#21035;&#23558;&#23427;&#20204;&#25918;&#21040;&#21508;&#33258;&#30340;&#29420;&#31435;&#21367;&#20013;&#12290;</p></li><li><p>&#23613;&#37327;&#20943;&#23569;&#26085;&#24535;&#25991;&#20214;&#30340;&#25968;&#37327;&#12290;<tt class="literal">journal-min-files</tt>&#21442;&#25968;&#30340;&#35774;&#32622;&#24212;&#20197;&#28385;&#36275;&#24179;&#22343;
                    &#36816;&#34892;&#38656;&#35201;&#20026;&#20934;&#12290;&#22914;&#26524;&#20320;&#21457;&#29616;&#31995;&#32479;&#20013;&#32463;&#24120;&#26377;&#26032;&#30340;&#26085;&#24535;&#25991;&#20214;&#34987;&#21019;&#24314;&#65292;&#36825;&#35828;&#26126;&#25345;&#20037;&#30340;&#25968;&#25454;&#37327;&#24456;&#22823;&#65292;&#20320;&#38656;&#35201;&#36866;&#24403;&#22686;&#21152;
                    &#36825;&#20010;&#21442;&#25968;&#30340;&#20540;&#65292;&#20197;&#20351;HornetQ&#26356;&#22810;&#26102;&#20505;&#26159;&#22312;&#37325;&#29992;&#25991;&#20214;&#65292;&#32780;&#19981;&#26159;&#21019;&#24314;&#26032;&#25991;&#20214;&#12290;</p></li><li><p>&#26085;&#24535;&#25991;&#20214;&#30340;&#22823;&#23567;&#12290;&#26085;&#24535;&#25991;&#20214;&#30340;&#22823;&#23567;&#26368;&#22909;&#35201;&#19982;&#30913;&#30424;&#30340;&#19968;&#20010;&#26609;&#38754;&#30340;&#23481;&#37327;&#23545;&#40784;&#12290;&#40664;&#35748;&#20540;&#26159;10MiB&#65292;&#23427;&#22312;&#32477;&#22823;&#22810;&#25968;
                    &#30340;&#31995;&#32479;&#20013;&#33021;&#22815;&#28385;&#36275;&#38656;&#35201;&#12290;</p></li><li><p>&#20351;&#29992;AIO&#26085;&#24535;&#12290;&#22312;Linux&#19979;&#65292;&#23613;&#37327;&#20351;&#29992;AIO&#22411;&#30340;&#26085;&#24535;&#12290;AIO&#30340;&#21487;&#25193;&#23637;&#24615;&#35201;&#22909;&#20110;Java&#30340;NIO&#12290;</p></li><li><p>&#20248;&#21270; <tt class="literal">journal-buffer-timeout</tt>&#12290;&#22914;&#26524;&#22686;&#21152;&#23427;&#30340;&#20540;&#65292;&#21534;&#21520;&#37327;&#20250;&#22686;&#21152;&#65292;&#20294;&#26159;
                    &#24310;&#36831;&#20063;&#20250;&#22686;&#21152;&#12290;</p></li><li><p>&#22914;&#26524;&#20351;&#29992;AIO&#65292;&#36866;&#24403;&#22686;&#21152;<tt class="literal">journal-max-io</tt>&#21487;&#33021;&#20250;&#25552;&#39640;&#24615;&#33021;&#12290;&#22914;&#26524;&#20351;&#29992;&#30340;&#26159;NIO&#65292;
                    &#35831;&#19981;&#35201;&#25913;&#21464;&#36825;&#20010;&#21442;&#25968;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11037"></a>46.2.&nbsp;&#20248;&#21270;JMS</h2></div></div><div></div></div><p>&#22914;&#26524;&#20351;&#29992;JMS&#25509;&#21475;&#65292;&#26377;&#20197;&#19979;&#20960;&#20010;&#26041;&#38754;&#21487;&#20197;&#25913;&#36827;&#24615;&#33021;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>&#20851;&#38381;&#28040;&#24687;id&#12290;&#22914;&#26524;&#20320;&#19981;&#38656;&#35201;&#36825;&#20010;id&#65292;&#29992;<tt class="literal">MessageProducer</tt>&#30340;
                    <tt class="literal">setDisableMessageID()</tt>&#26041;&#27861;&#21487;&#20197;&#20851;&#38381;&#23427;&#12290;&#36825;&#21487;&#20197;&#20943;&#23569;&#28040;&#24687;&#30340;&#22823;&#23567;&#24182;&#19988;
                    &#30465;&#21435;&#20102;&#21019;&#24314;&#21807;&#19968;ID&#30340;&#26102;&#38388;&#12290;</p></li><li><p>&#20851;&#38381;&#28040;&#24687;&#30340;&#26102;&#38388;&#25139;&#12290;&#22914;&#26524;&#19981;&#38656;&#35201;&#26102;&#38388;&#25139;&#65292;&#29992;<tt class="literal">MessageProducer</tt>&#30340;<tt class="literal">setDisableMessageTimeStamp()</tt>&#26041;&#27861;&#23558;&#20854;&#20851;&#38381;&#12290;</p></li><li><p>&#23613;&#37327;&#36991;&#20813;&#20351;&#29992;<tt class="literal">ObjectMessage</tt>&#12290;<tt class="literal">ObjectMessage</tt>&#20250;&#24102;
                    &#26469;&#39069;&#22806;&#30340;&#24320;&#38144;&#12290;<tt class="literal">ObjectMessage</tt>&#20351;&#29992;Java&#30340;&#24207;&#21015;&#21270;&#23558;&#23427;&#24207;&#21015;&#21270;&#20026;&#23383;&#33410;&#27969;&#12290;&#22312;&#23545;&#23567;&#30340;&#23545;&#35937;
                    &#36827;&#34892;&#24207;&#21015;&#21270;&#20250;&#21344;&#29992;&#22823;&#37327;&#30340;&#31354;&#38388;&#65292;&#20351;&#20256;&#36755;&#30340;&#25968;&#25454;&#37327;&#21152;&#22823;&#12290;&#21478;&#22806;&#65292;Java&#30340;&#24207;&#21015;&#21270;&#19982;&#20854;&#23427;&#23450;&#21046;&#30340;&#25216;&#26415;&#30456;&#27604;&#35201;&#24930;&#12290;&#21482;&#26377;&#22312;&#19981;&#24471;
                    &#20197;&#30340;&#24773;&#20917;&#19979;&#25165;&#20351;&#29992;&#23427;&#12290;&#27604;&#22914;&#24403;&#20320;&#22312;&#36816;&#34892;&#26102;&#19981;&#30693;&#36947;&#23545;&#35937;&#30340;&#20855;&#20307;&#31867;&#22411;&#26102;&#65292;&#21487;&#20197;&#29992;ObjectMessage&#12290;</p></li><li><p>&#36991;&#20813;&#20351;&#29992;<tt class="literal">AUTO_ACKNOWLEDGE</tt>&#12290; <tt class="literal">AUTO_ACKNOWLEDGE</tt>
                    &#20351;&#24471;&#27599;&#25910;&#21040;&#19968;&#20010;&#28040;&#24687;&#23601;&#35201;&#21521;&#26381;&#21153;&#22120;&#21457;&#36865;&#19968;&#20010;&#36890;&#30693;&#65293;&#65293;&#36825;&#26679;&#22686;&#21152;&#30340;&#32593;&#32476;&#20256;&#36755;&#30340;&#36127;&#25285;&#12290;&#22914;&#26524;&#21487;&#33021;&#65292;&#23613;&#37327;&#20351;&#29992;
                    <tt class="literal">DUPS_OK_ACKNOWLEDGE</tt>&#25110;&#32773;<tt class="literal">CLIENT_ACKNOWLEDGE</tt>&#12290;&#25110;&#32773;&#20351;&#29992;&#20107;&#21153;&#24615;&#20250;&#35805;&#65292;&#23558;&#36890;&#30693;&#22312;&#25552;&#20132;&#26102;&#25209;&#37327;&#23436;&#25104;&#12290;</p></li><li><p>&#36991;&#20813;&#25345;&#20037;&#21270;&#28040;&#24687;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;JMS&#28040;&#24687;&#26159;&#25345;&#20037;&#30340;&#12290;&#22914;&#26524;&#20320;&#19981;&#38656;&#35201;&#25345;&#20037;&#28040;&#24687;&#65292;&#21017;&#23558;&#20854;&#35774;&#23450;&#20026;&#38750;&#25345;&#20037;&#12290;
                    &#25345;&#20037;&#28040;&#24687;&#37117;&#20250;&#34987;&#20889;&#21040;&#30913;&#30424;&#20013;&#65292;&#36825;&#32473;&#31995;&#32479;&#24102;&#26469;&#20102;&#26126;&#26174;&#30340;&#36127;&#25285;&#12290;</p></li><li><p>&#23558;&#22810;&#20010;&#21457;&#36865;&#25110;&#36890;&#30693;&#25918;&#21040;&#19968;&#20010;&#20107;&#21153;&#20013;&#23436;&#25104;&#12290;&#36825;&#26679;HornetQ&#21482;&#38656;&#35201;&#19968;&#27425;&#32593;&#32476;&#30340;&#24448;&#36820;&#26469;&#21457;&#29983;&#20107;&#21153;&#30340;&#25552;&#20132;&#65292;&#32780;&#19981;&#26159;&#27599;&#27425;&#21457;&#36865;
                    &#25110;&#36890;&#30693;&#23601;&#38656;&#35201;&#19968;&#27425;&#32593;&#32476;&#30340;&#24448;&#36820;&#36890;&#36805;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11094"></a>46.3.&nbsp;&#20854;&#23427;&#20248;&#21270;</h2></div></div><div></div></div><p>&#22312;HornetQ&#20013;&#36824;&#26377;&#20854;&#23427;&#19968;&#20123;&#22320;&#26041;&#21487;&#20197;&#20248;&#21270;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#20351;&#29992;&#24322;&#27493;&#21457;&#36865;&#36890;&#30693;&#12290;&#22914;&#26524;&#20320;&#22312;&#38750;&#20107;&#21153;&#26465;&#20214;&#19979;&#21457;&#36865;&#25345;&#20037;&#30340;&#28040;&#24687;&#65292;&#24182;&#19988;&#35201;&#20445;&#35777;&#22312;send()&#36820;&#22238;&#26102;&#25345;&#20037;&#28040;&#24687;&#24050;&#32463;&#21040;&#36798;&#26381;
                    &#21153;&#22120;&#65292;&#19981;&#35201;&#20351;&#29992;&#38459;&#22622;&#24335;&#21457;&#36865;&#30340;&#26041;&#24335;&#65292;&#24212;&#35813;&#20351;&#29992;&#24322;&#27493;&#21457;&#36865;&#36890;&#30693;&#30340;&#26041;&#24335;&#12290;&#21442;&#35265;<a href="send-guarantees.html" title="Chapter&nbsp;20.&nbsp;&#21457;&#36865;&#19982;&#25552;&#20132;&#30340;&#20445;&#35777;">Chapter&nbsp;20, <i>&#21457;&#36865;&#19982;&#25552;&#20132;&#30340;&#20445;&#35777;</i></a>&#20013;&#30340;&#35828;&#26126;&#12290;</p></li><li><p>&#20351;&#29992;&#39044;&#20808;&#36890;&#30693;&#27169;&#24335;&#12290;&#39044;&#20808;&#36890;&#30693;&#23601;&#26159;&#22312;&#28040;&#24687;&#21457;&#24448;&#23458;&#25143;&#31471;<tt class="literal">&#20043;&#21069;</tt>&#36827;&#34892;&#36890;&#30693;&#12290;&#23427;&#33410;&#30465;&#20102;&#27491;&#24120;
                    &#30340;&#28040;&#24687;&#36890;&#30693;&#25152;&#21344;&#29992;&#30340;&#36890;&#36805;&#26102;&#38388;&#12290;&#35814;&#32454;&#30340;&#35299;&#37322;&#35831;&#21442;&#35265;
                        <a href="pre-acknowledge.html" title="Chapter&nbsp;29.&nbsp;&#39044;&#20808;&#36890;&#30693;&#27169;&#24335;&#65288;pre-acknowledge&#65289;">Chapter&nbsp;29, <i>&#39044;&#20808;&#36890;&#30693;&#27169;&#24335;&#65288;pre-acknowledge&#65289;</i></a>&#12290;</p></li><li><p>&#20851;&#38381;&#23433;&#20840;&#12290;&#23558;<tt class="literal">hornetq-configuration.xml</tt>&#25991;&#20214;&#20013;&#30340;<tt class="literal">security-enabled</tt>
                    &#21442;&#25968;&#35774;&#20026;<tt class="literal">false</tt>&#20197;&#20851;&#38381;&#23433;&#20840;&#12290;&#36825;&#21487;&#20197;&#24102;&#26469;&#19968;&#20123;&#24615;&#33021;&#30340;&#25552;&#39640;&#12290;</p></li><li><p>&#20851;&#38381;&#25345;&#20037;&#21270;&#12290;&#22914;&#26524;&#19981;&#20320;&#19981;&#38656;&#35201;&#28040;&#24687;&#25345;&#20037;&#21270;&#65292;&#21487;&#20197;&#23558;<tt class="literal">hornetq-configuration.xml</tt>
                    &#25991;&#20214;&#20013;&#30340;<tt class="literal">persistence-enabled</tt>&#21442;&#25968;&#35774;&#20026;false&#26469;&#23436;&#20840;&#20851;&#38381;&#25345;&#20037;&#21151;&#33021;&#12290;</p></li><li><p>&#37319;&#29992;&#24310;&#36831;&#26041;&#24335;&#20107;&#21153;&#21516;&#27493;&#12290;&#23558;<tt class="literal">hornetq-configuration.xml</tt>&#25991;&#20214;&#20013;&#30340;<tt class="literal">journal-sync-transactional</tt>&#21442;&#25968;&#35774;&#20026;<tt class="literal">false</tt>&#21487;&#20197;&#24471;&#21040;
                    &#26356;&#22909;&#30340;&#20107;&#21153;&#25345;&#20037;&#21270;&#30340;&#24615;&#33021;&#12290;&#20294;&#26159;&#36825;&#26679;&#20570;&#21487;&#33021;&#20250;&#36896;&#25104;&#22312;&#21457;&#29983;&#25925;&#38556;&#26102;&#20107;&#21153;&#30340;&#20002;&#22833;&#12290;&#26377;&#20851;&#35814;&#32454;&#30340;&#35828;&#26126;&#21442;&#35265;
                    <a href="send-guarantees.html" title="Chapter&nbsp;20.&nbsp;&#21457;&#36865;&#19982;&#25552;&#20132;&#30340;&#20445;&#35777;">Chapter&nbsp;20, <i>&#21457;&#36865;&#19982;&#25552;&#20132;&#30340;&#20445;&#35777;</i></a>&#12290;</p></li><li><p>&#37319;&#29992;&#24310;&#36831;&#26041;&#24335;&#38750;&#20107;&#21153;&#21516;&#27493;&#12290;&#23558;<tt class="literal">hornetq-configuration.xml</tt>&#25991;&#20214;&#20013;&#30340;<tt class="literal">journal-sync-non-transactional</tt>&#21442;&#25968;&#35774;&#20026;<tt class="literal">false</tt>&#21487;&#20197;&#24471;&#21040;
                    &#26356;&#22909;&#30340;&#38750;&#20107;&#21153;&#25345;&#20037;&#21270;&#30340;&#24615;&#33021;&#12290;&#20294;&#26159;&#36825;&#26679;&#20570;&#21487;&#33021;&#20250;&#36896;&#25104;&#22312;&#21457;&#29983;&#25925;&#38556;&#26102;&#25345;&#20037;&#28040;&#24687;&#30340;&#20002;&#22833;&#12290;&#26377;&#20851;&#35814;&#32454;&#30340;&#35828;&#26126;&#21442;&#35265;
                    <a href="send-guarantees.html" title="Chapter&nbsp;20.&nbsp;&#21457;&#36865;&#19982;&#25552;&#20132;&#30340;&#20445;&#35777;">Chapter&nbsp;20, <i>&#21457;&#36865;&#19982;&#25552;&#20132;&#30340;&#20445;&#35777;</i></a>&#12290;</p></li><li><p>&#37319;&#29992;&#38750;&#38459;&#22622;&#26041;&#24335;&#21457;&#36865;&#28040;&#24687;&#12290;&#23558;&#25991;&#20214;<tt class="literal">hornetq-jms.xml</tt>&#20013;&#30340;&#21442;&#25968;
                    <tt class="literal">block-on-non-durable-send</tt>&#35774;&#20026;<tt class="literal">false</tt>
                    &#65288;&#20351;&#29992;JMS&#21644;JNDI&#26102;&#65289;&#25110;&#32773;&#30452;&#25509;&#22312;&#19978;&#36827;&#34892;&#30456;&#24212;&#30340;&#35774;&#32622;&#65292;&#21487;&#20197;&#20351;
                    &#28040;&#24687;&#21457;&#36865;&#26102;&#19981;&#38459;&#22622;&#31561;&#24453;&#26381;&#21153;&#22120;&#30340;&#21709;&#24212;&#12290;&#21442;&#35265; <a href="send-guarantees.html" title="Chapter&nbsp;20.&nbsp;&#21457;&#36865;&#19982;&#25552;&#20132;&#30340;&#20445;&#35777;">Chapter&nbsp;20, <i>&#21457;&#36865;&#19982;&#25552;&#20132;&#30340;&#20445;&#35777;</i></a>&#12290;</p></li><li><p>&#22914;&#26524;&#20320;&#30340;&#25509;&#25910;&#32773;&#36895;&#24230;&#24456;&#24555;&#65292;&#20320;&#21487;&#20197;&#22686;&#21152;consumer-window-size&#12290;&#36825;&#26679;&#23454;&#38469;&#19978;&#23601;&#20851;&#38381;&#20102;&#27969;&#25511;&#21046;&#30340;&#21151;&#33021;&#12290;</p></li><li><p>&#22871;&#25509;&#23383;NIO&#19982;&#26087;&#30340;IO&#23545;&#27604;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;HornetQ&#22312;&#26381;&#21153;&#22120;&#31471;&#20351;&#29992;&#22871;&#25509;&#23383;NIO&#25216;&#26415;&#65292;&#32780;&#22312;&#23458;&#25143;&#31471;&#21017;&#20351;&#29992;&#26087;&#30340;&#65288;&#38459;&#22622;&#65289;
                    IO&#65288;&#21442;&#35265;&#20256;&#36755;&#37197;&#32622;&#19968;&#31456;<a href="configuring-transports.html" title="Chapter&nbsp;16.&nbsp;&#20256;&#36755;&#23618;&#30340;&#37197;&#32622;">Chapter&nbsp;16, <i>&#20256;&#36755;&#23618;&#30340;&#37197;&#32622;</i></a>&#65289;&#12290;NIO&#27604;&#26087;&#30340;&#38459;&#22622;&#24335;IO&#26377;&#26356;
                    &#24378;&#30340;&#21487;&#25193;&#23637;&#24615;&#65292;&#20294;&#26159;&#20063;&#20250;&#24102;&#26469;&#19968;&#20123;&#24310;&#26102;&#12290;&#22914;&#26524;&#20320;&#30340;&#26381;&#21153;&#22120;&#35201;&#21516;&#26102;&#26377;&#25968;&#21315;&#20010;&#36830;&#25509;&#65292;&#20351;&#29992;NIO&#25928;&#26524;&#27604;&#36739;&#22909;&#12290;&#20294;&#26159;&#22914;&#26524;
                    &#36830;&#25509;&#25968;&#24182;&#27809;&#26377;&#36825;&#20040;&#22810;&#65292;&#20320;&#21487;&#20197;&#37197;&#32622;&#25509;&#25910;&#22120;&#20351;&#29992;&#26087;&#30340;IO&#36824;&#25552;&#39640;&#24615;&#33021;&#12290;</p></li><li><p>&#23613;&#37327;&#20351;&#29992;&#26680;&#24515;&#25509;&#21475;&#32780;&#19981;&#29992;JMS&#12290;&#20351;&#29992;JMS&#25509;&#21475;&#20250;&#31245;&#24494;&#27604;&#20351;&#29992;&#26680;&#24515;&#25509;&#21475;&#24615;&#33021;&#35201;&#20302;&#20123;&#12290;&#36825;&#26159;&#22240;&#20026;&#25152;&#26377;JMS&#25805;&#20316;
                    &#23454;&#38469;&#19978;&#35201;&#36716;&#21270;&#20026;&#26680;&#24515;&#30340;&#25805;&#20316;&#25165;&#33021;&#20026;&#26381;&#21153;&#22120;&#25152;&#22788;&#29702;&#12290;&#22312;&#20351;&#29992;&#26680;&#24515;&#25509;&#21475;&#26102;&#65292;&#23613;&#37327;&#20351;&#29992;&#24102;&#26377;
                    <tt class="literal">SimpleString</tt>&#31867;&#22411;&#21442;&#25968;&#30340;&#26041;&#27861;&#12290;<tt class="literal">SimpleString</tt>&#19982;
                    java.lang.String&#19981;&#21516;&#65292;&#23427;&#22312;&#20889;&#20837;&#20256;&#36755;&#23618;&#26102;&#19981;&#38656;&#35201;&#25335;&#36125;&#12290;&#25152;&#20197;&#20320;&#22914;&#26524;&#22312;&#35843;&#29992;&#20013;&#37325;&#29992;<tt class="literal">SimpleString</tt>&#23545;&#35937;&#21487;&#20197;&#36991;&#20813;&#19981;&#24517;&#35201;&#30340;&#25335;&#36125;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11196"></a>46.4.&nbsp;&#20256;&#36755;&#23618;&#30340;&#20248;&#21270;</h2></div></div><div></div></div><div class="itemizedlist"><ul type="disc"><li><p>TCP&#32531;&#23384;&#22823;&#23567;&#12290;&#22914;&#26524;&#20320;&#30340;&#32593;&#32476;&#36895;&#24230;&#24456;&#24555;&#65292;&#24182;&#19988;&#20320;&#30340;&#20027;&#26426;&#20063;&#24456;&#24555;&#65292;&#20320;&#21487;&#20197;&#36890;&#36807;&#22686;&#21152;TCP&#30340;&#21457;&#36865;&#21644;&#25509;&#25910;&#32531;&#23384;
                    &#26469;&#25552;&#39640;&#24615;&#33021;&#12290;&#21442;&#35265;<a href="configuring-transports.html" title="Chapter&nbsp;16.&nbsp;&#20256;&#36755;&#23618;&#30340;&#37197;&#32622;">Chapter&nbsp;16, <i>&#20256;&#36755;&#23618;&#30340;&#37197;&#32622;</i></a>&#20013;&#30340;&#35814;&#32454;&#35828;&#26126;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>&#27880;&#24847;&#26576;&#20123;&#25805;&#20316;&#31995;&#32479;&#65292;&#22914;&#26368;&#36817;&#30340;Linux&#29256;&#26412;&#20013;&#65292;&#21253;&#25324;&#20102;TCP&#33258;&#21160;&#20248;&#21270;&#21151;&#33021;&#12290;&#22914;&#26524;&#20877;&#25163;&#24037;&#35774;&#32622;TCP&#32531;&#23384;
                    &#20250;&#23548;&#33268;&#33258;&#21160;&#20248;&#21270;&#22833;&#25928;&#65292;&#26368;&#32066;&#20351;&#24615;&#33021;&#19979;&#38477;&#65281;
                     </p></div></li><li><p>&#22686;&#21152;&#26381;&#21153;&#22120;&#20013;&#25991;&#20214;&#21477;&#26564;&#25968;&#37327;&#38480;&#21046;&#12290;&#22914;&#26524;&#20320;&#30340;&#26381;&#21153;&#22120;&#23558;&#35201;&#22788;&#29702;&#24456;&#22810;&#24182;&#34892;&#30340;&#36830;&#25509;&#65292;&#25110;&#32773;&#23458;&#25143;&#31471;&#22312;&#24555;&#36895;&#19981;&#20572;&#22320;
                    &#25171;&#24320;&#21644;&#20851;&#38381;&#36830;&#25509;&#65292;&#20320;&#35201;&#30830;&#20445;&#22312;&#26381;&#21153;&#22120;&#31471;&#26377;&#36275;&#22815;&#30340;&#25991;&#20214;&#21477;&#26564;&#20197;&#20379;&#20351;&#29992;&#12290;</p><p>&#36825;&#20010;&#38480;&#21046;&#22312;&#19981;&#21516;&#24179;&#21488;&#26377;&#19981;&#21516;&#30340;&#26041;&#27861;&#12290;&#22312;Linux&#31995;&#32479;&#20013;&#65292;&#20320;&#21487;&#20197;&#32534;&#36753;&#25991;&#20214;<tt class="literal">/etc/security/limits.conf</tt>&#65292;&#22686;&#21152;&#20197;&#19979;&#20869;&#23481;&#65306;
                    </p><pre class="programlisting">
serveruser     soft    nofile  20000
serveruser     hard    nofile  20000                   
                </pre><p>
                    &#23427;&#35774;&#32622;&#20102;&#29992;&#25143;<tt class="literal">serveruser</tt>&#21487;&#20197;&#26368;&#22810;&#25171;&#24320;20000&#20010;&#25991;&#20214;&#21477;&#26564;&#12290;</p></li><li><p>&#21033;&#29992;&#21442;&#25968;<tt class="literal">batch-delay</tt>&#24182;&#23558;&#21442;&#25968;<tt class="literal">direct-deliver</tt>
                    &#35774;&#20026;false&#26469;&#25552;&#39640;&#23567;&#28040;&#24687;&#30340;&#22788;&#29702;&#25928;&#29575;&#12290;HornetQ&#22312;&#20854;<tt class="literal">hornetq-configuration.xml</tt>
                    &#20013;&#39044;&#20808;&#37197;&#32622;&#20102;&#19968;&#20010;&#36830;&#25509;&#22120;&#65295;&#25509;&#21463;&#22120;&#23545;&#65288;<tt class="literal">netty-throughput</tt>&#65289;&#65292;&#24182;&#19988;&#22312;
                    <tt class="literal">hornetq-jms.xml</tt>&#20013;&#37197;&#32622;&#20102;&#19968;&#20010;JMS&#36830;&#25509;&#24037;&#21378;&#65288;
                    <tt class="literal">ThroughputConnectionFactory</tt>&#65289;&#12290;&#23427;&#20204;&#21487;&#20197;&#29992;&#22312;&#23567;&#28040;&#24687;&#30340;&#22788;&#29702;&#24212;&#29992;&#20013;&#20197;&#25552;
                    &#20379;&#26368;&#20339;&#21585;&#21520;&#37327;&#12290;&#21442;&#35265;<a href="configuring-transports.html" title="Chapter&nbsp;16.&nbsp;&#20256;&#36755;&#23618;&#30340;&#37197;&#32622;">Chapter&nbsp;16, <i>&#20256;&#36755;&#23618;&#30340;&#37197;&#32622;</i></a>&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11245"></a>46.5.&nbsp;&#20248;&#21270;&#34394;&#25311;&#26426;</h2></div></div><div></div></div><p>&#25105;&#20204;&#24378;&#28872;&#24314;&#35758;&#20320;&#20351;&#29992;&#26368;&#26032;&#30340;Java 6&#34394;&#25311;&#26426;&#12290;&#23427;&#22312;&#24456;&#22810;&#26041;&#38754;&#23545;&#20197;&#21069;Java 5&#30340;&#34394;&#25311;&#26426;&#36827;&#34892;&#20102;&#25913;&#36827;&#65292;&#29305;&#21035;&#26159;&#22312;&#32593;&#32476;&#21151;&#33021;&#26041;&#38754;&#12290;
            &#36825;&#26159;&#26681;&#25454;&#25105;&#20204;&#20869;&#37096;&#20351;&#29992;Sun&#30340;&#23454;&#29616;&#27979;&#35797;&#30340;&#32080;&#26524;&#65292;&#21487;&#33021;&#19981;&#36866;&#29992;&#20110;&#20854;&#23427;&#30340;Java&#23454;&#29616;&#65288;&#20363;&#22914;IBM&#25110;JRockit&#65289;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>&#25289;&#22334;&#22238;&#25910;&#12290;&#20026;&#20102;&#20351;&#26381;&#21153;&#22120;&#30340;&#36816;&#34892;&#27604;&#36739;&#24179;&#28369;&#65292;&#25105;&#20204;&#24314;&#35758;&#20351;&#29992;&#24182;&#34892;&#25289;&#22334;&#22238;&#25910;&#30340;&#31639;&#27861;&#12290;&#20363;&#22914;&#22312;Sun&#30340;JDK&#20351;&#29992;
                    JVM&#36873;&#39033;<tt class="literal">-XX:+UseParallelGC</tt>.</p></li><li><p><a name="perf-tuning.memory"></a>&#20869;&#23384;&#35774;&#32622;&#12290;&#23613;&#37327;&#20026;&#26381;&#21153;&#22120;&#20998;&#37197;&#26356;&#22810;&#30340;&#20869;&#23384;&#12290;HornetQ&#21033;&#29992;&#20854;&#20998;&#39029;&#36716;&#23384;&#25216;&#26415;&#21487;&#20197;&#22312;&#24456;&#23569;&#30340;&#20869;&#23384;&#19979;&#36816;&#34892;&#65288;&#22312;
                    <a href="paging.html" title="Chapter&nbsp;24.&nbsp;&#20998;&#39029;&#36716;&#23384;">Chapter&nbsp;24, <i>&#20998;&#39029;&#36716;&#23384;</i></a>&#20013;&#26377;&#35828;&#26126;&#65289;&#12290;&#20294;&#26159;&#22914;&#26524;&#25152;&#26377;&#38431;&#21015;&#37117;&#22312;&#20869;&#23384;&#36816;&#34892;&#65292;&#24615;&#33021;&#23558;&#20250;&#24456;&#22909;&#12290;&#20855;&#20307;&#38656;&#35201;
                    &#22810;&#23569;&#20869;&#23384;&#35201;&#30001;&#20320;&#30340;&#38431;&#21015;&#30340;&#22823;&#23567;&#21644;&#25968;&#37327;&#20197;&#21450;&#28040;&#24687;&#30340;&#22823;&#23567;&#21644;&#25968;&#37327;&#20915;&#23450;&#12290;&#20351;&#29992;JVM&#21442;&#25968;<tt class="literal">-Xms</tt>
                    &#21644;<tt class="literal">-Xmx</tt>&#26469;&#20026;&#20320;&#30340;&#26381;&#21153;&#22120;&#20998;&#37197;&#20869;&#23384;&#12290;&#25105;&#20204;&#24314;&#35758;&#20004;&#20010;&#21442;&#25968;&#30340;&#35774;&#20026;&#30456;&#21516;&#30340;&#20540;&#12290;</p></li><li><p>&#20027;&#21160;&#36873;&#39033;&#65288;Aggressive options&#65289;&#12290;&#19981;&#21516;JVM&#26377;&#19981;&#21516;&#30340;JVM&#20248;&#21270;&#21442;&#25968;&#12290;&#23545;&#20110;Sun&#30340;Hotspot JVM&#65292;&#22312;<a href="http://java.sun.com/javase/technologies/hotspot/vmoptions.jsp" target="_top">&#36825;&#37324;</a>&#26377;&#19968;&#20010;&#23436;&#25972;&#30340;&#21442;&#25968;&#21015;&#34920;&#12290;&#25105;&#20204;&#24314;&#35758;&#33267;&#23569;&#35201;&#20351;&#29992; <tt class="literal">-XX:+AggressiveOpts</tt> &#21644;<tt class="literal">
                        -XX:+UseFastAccessorMethods</tt>&#36873;&#39033;&#12290;&#26681;&#25454;&#19981;&#21516;&#30340;&#24179;&#21488;&#65292;&#21487;&#33021;&#36824;&#26377;&#20854;&#23427;&#19968;&#20123;&#21442;&#25968;&#20379;&#20320;&#20351;&#29992;&#65292;
                    &#20197;&#25552;&#39640;JVM&#30340;&#24615;&#33021;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11280"></a>46.6.&nbsp;&#36991;&#20813;&#36829;&#32972;&#35774;&#35745;&#27169;&#24335;</h2></div></div><div></div></div><div class="itemizedlist"><ul type="disc"><li><p>&#37325;&#29992;&#36830;&#25509;&#65295;&#20250;&#35805;&#65295;&#25509;&#25910;&#32773;&#65295;&#21457;&#36865;&#32773;&#12290;&#26368;&#24120;&#35265;&#30340;&#38169;&#35823;&#24656;&#24597;&#23601;&#26159;&#27599;&#21457;&#36865;&#65295;&#25509;&#25910;&#19968;&#20010;&#28040;&#24687;&#37117;&#35201;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#36830;&#25509;
                    &#65295;&#20250;&#35805;&#65295;&#21457;&#36865;&#32773;&#25110;&#25509;&#25910;&#32773;&#12290;&#36825;&#26679;&#38750;&#24120;&#28010;&#36153;&#36164;&#28304;&#12290;&#36825;&#20123;&#23545;&#35937;&#30340;&#21019;&#24314;&#35201;&#21344;&#29992;&#26102;&#38388;&#21644;&#32593;&#32476;&#24102;&#23485;&#12290;&#23427;&#20204;&#24212;&#35813;&#36827;&#34892;&#37325;&#29992;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>&#26377;&#20123;&#24120;&#29992;&#30340;&#26694;&#26550;&#22914;Spring JMS Template&#22312;&#20351;&#29992;JMS&#26102;&#36829;&#32972;&#20102;&#35774;&#35745;&#27169;&#24335;&#12290;&#22914;&#26524;&#20320;&#22312;&#20351;&#29992;&#20102;&#23427;&#21518;&#24615;&#33021;
                        &#21463;&#21040;&#20102;&#24433;&#21709;&#12290;&#36825;&#19981;&#26159;HornetQ&#30340;&#21407;&#22240;&#65281;Spring&#30340;JMS&#27169;&#26495;&#21482;&#26377;&#19982;&#33021;&#32531;&#23384;JMS&#20250;&#35805;&#30340;&#24212;&#29992;&#26381;&#21153;&#22120;&#19968;&#36215;&#20351;&#29992;
                        &#25165;&#26159;&#23433;&#20840;&#30340;&#65292;&#24182;&#19988;&#21482;&#33021;&#26159;&#29992;&#20110;&#21457;&#36865;&#28040;&#24687;&#12290;&#20351;&#29992;&#23427;&#22312;&#24212;&#29992;&#26381;&#21153;&#22120;&#20013;&#21516;&#27493;&#25509;&#25910;&#28040;&#24687;&#26159;&#19981;&#23433;&#20840;&#30340;&#12290;</p></div></li><li><p>&#36991;&#20813;&#20351;&#29992;&#32321;&#38145;&#30340;&#28040;&#24687;&#26684;&#24335;&#12290;&#22914;XML&#65292;&#23427;&#20250;&#20351;&#25968;&#25454;&#37327;&#21464;&#22823;&#36827;&#32780;&#38477;&#20302;&#24615;&#33021;&#12290;&#25152;&#20197;&#24212;&#35813;&#23613;&#37327;&#36991;&#20813;&#22312;&#28040;&#24687;&#20307;&#20013;&#20351;&#29992;XML&#12290;</p></li><li><p>&#19981;&#35201;&#20026;&#27599;&#20010;&#35831;&#27714;&#37117;&#21019;&#24314;&#26032;&#30340;&#20020;&#26102;&#38431;&#21015;&#12290;&#20020;&#26102;&#38431;&#21015;&#36890;&#24120;&#29992;&#20110;&#35831;&#27714;&#65293;&#21709;&#24212;&#27169;&#24335;&#30340;&#28040;&#24687;&#24212;&#29992;&#12290;&#22312;&#36825;&#20010;&#27169;&#24335;&#20013;&#28040;&#24687;&#34987;&#21457;&#24448;
                    &#19968;&#20010;&#30446;&#30340;&#65292;&#23427;&#24102;&#26377;&#19968;&#20010;reply-to&#30340;&#22836;&#23646;&#24615;&#25351;&#21521;&#19968;&#20010;&#26412;&#22320;&#30340;&#20020;&#26102;&#38431;&#21015;&#30340;&#22320;&#22336;&#12290;&#24403;&#28040;&#24687;&#34987;&#25910;&#21040;&#21518;&#65292;&#25509;&#25910;&#26041;&#23558;&#21709;&#24212;&#20570;&#20026;&#28040;&#24687;&#21457;
                    &#24448;&#37027;&#20010;reply-to&#25351;&#23450;&#30340;&#20020;&#26102;&#30340;&#22320;&#22336;&#12290;&#22914;&#26524;&#27599;&#21457;&#19968;&#20010;&#28040;&#24687;&#37117;&#21019;&#24314;&#19968;&#20010;&#20020;&#26102;&#38431;&#21015;&#65292;&#37027;&#20040;&#24615;&#33021;&#23558;&#20250;&#21463;&#24456;&#22823;&#24433;&#21709;&#12290;&#27491;&#30830;&#30340;
                    &#20316;&#27861;&#26159;&#22312;&#21457;&#36865;&#28040;&#24687;&#26102;&#37325;&#29992;&#20020;&#26102;&#38431;&#21015;&#12290;</p></li><li><p>&#23613;&#37327;&#19981;&#35201;&#20351;&#29992;MDB&#12290;&#20351;&#29992;MDB&#65292;&#28040;&#24687;&#30340;&#25509;&#25910;&#36807;&#31243;&#35201;&#27604;&#30452;&#25509;&#25509;&#25910;&#22797;&#26434;&#24471;&#22810;&#65292;&#35201;&#25191;&#34892;&#24456;&#22810;&#24212;&#29992;&#26381;&#21153;&#22120;&#20869;&#37096;&#30340;&#20195;&#30721;&#12290;
                    &#22312;&#35774;&#35745;&#24212;&#29992;&#26102;&#35201;&#38382;&#19968;&#19979;&#26159;&#21542;&#30495;&#30340;&#38656;&#35201;MDB&#65311;&#21487;&#19981;&#21487;&#20197;&#30452;&#25509;&#20351;&#29992;&#28040;&#24687;&#25509;&#25910;&#32773;&#23436;&#25104;&#21516;&#26679;&#30340;&#20219;&#21153;&#65311;</p></li></ul></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="interoperability.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="configuration-index.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;45.&nbsp;&#20114;&#25805;&#20316;&#24615;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;47.&nbsp;&#37197;&#32622;&#21442;&#25968;&#32034;&#24341;</td></tr></table></div></body></html>